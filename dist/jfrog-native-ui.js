!function(modules){function __webpack_require__(moduleId){if(installedModules[moduleId])return installedModules[moduleId].exports;var module=installedModules[moduleId]={exports:{},id:moduleId,loaded:!1};return modules[moduleId].call(module.exports,module,module.exports,__webpack_require__),module.loaded=!0,module.exports}var installedModules={};return __webpack_require__.m=modules,__webpack_require__.c=installedModules,__webpack_require__.p="",__webpack_require__(0)}([function(module,exports,__webpack_require__){__webpack_require__(1),__webpack_require__(2),__webpack_require__(7),module.exports=__webpack_require__(32)},function(module,exports){"use strict";function main($httpBackend,$animate){}main.$inject=["$httpBackend","$animate"],angular.module("jfrog.native.ui",["ui_components","templates","directives","services"]).run(main)},function(module,exports,__webpack_require__){"use strict";var jfDockerV2Layer=__webpack_require__(3).jfDockerV2Layer,jfDockerV2Layers=__webpack_require__(5).jfDockerV2Layers;angular.module("directives",[]).directive({jfDockerV2Layer:jfDockerV2Layer,jfDockerV2Layers:jfDockerV2Layers})},function(module,exports,__webpack_require__){"use strict";function jfDockerV2Layer(){return{restrict:"E",scope:{parent:"=",data:"=",preselected:"=",isBase:"=",isUpper:"="},controller:jfDockerV2LayerController,controllerAs:"jfDockerV2Layer",templateUrl:"directives/jf_docker_v2_layer/jf_docker_v2_layer.html",bindToController:!0}}var _interopRequire=function(obj){return obj&&obj.__esModule?obj["default"]:obj},_createClass=function(){function defineProperties(target,props){for(var key in props){var prop=props[key];prop.configurable=!0,prop.value&&(prop.writable=!0)}Object.defineProperties(target,props)}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_classCallCheck=function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")};exports.jfDockerV2Layer=jfDockerV2Layer,Object.defineProperty(exports,"__esModule",{value:!0});var COLOR_MAP=_interopRequire(__webpack_require__(4)),jfDockerV2LayerController=function(){function jfDockerV2LayerController(){_classCallCheck(this,jfDockerV2LayerController)}return _createClass(jfDockerV2LayerController,{$onInit:{value:function(){this.data.commandText=this.data.command+" "+this.data.commandText,this.selected=!1,this.COLOR_MAP=COLOR_MAP,this.parent.layerDirectives.push(this),this.collapsed=!0;var created=this.data.created.split("T");this.created=created[0]+" "+created[1].split(".")[0],this.preselected&&this.setSelected(!0)}},isSelected:{value:function(){return this.selected}},setSelected:{value:function(s){this.selected=s,this.parent.setSelected(this)}}}),jfDockerV2LayerController}()},function(module,exports){"use strict";module.exports={RUN:"#f3c43d",CMD:"#429f46",ADD:"#662d91",MAINTAINER:"#000080",EXPOSE:"#d7593f",FROM:"#c8c8c8",LABEL:"#b2d567",ENV:"#707070",COPY:"#2fa4db",ENTRYPOINT:"#2b2b2b",VOLUME:"#d54581",USER:"#add8e6",WORKDIR:"#fdcfa3",ARG:"#ffd700",ONBUILD:"#fa8072",STOPSIGNAL:"#6ab29b"}},function(module,exports,__webpack_require__){"use strict";function jfDockerV2Layers(){return{restrict:"E",scope:{controller:"=",data:"=",currentPath:"@"},controller:jfDockerV2LayersController,controllerAs:"jfDockerV2Layers",templateUrl:"directives/jf_docker_v2_layers/jf_docker_v2_layers.html",bindToController:!0}}var _interopRequire=function(obj){return obj&&obj.__esModule?obj["default"]:obj},_createClass=function(){function defineProperties(target,props){for(var key in props){var prop=props[key];prop.configurable=!0,prop.value&&(prop.writable=!0)}Object.defineProperties(target,props)}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_classCallCheck=function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")};exports.jfDockerV2Layers=jfDockerV2Layers,Object.defineProperty(exports,"__esModule",{value:!0});var KEY_DICTIONARY=_interopRequire(__webpack_require__(6)),jfDockerV2LayersController=function(){function jfDockerV2LayersController($scope,$attrs){_classCallCheck(this,jfDockerV2LayersController),this.KEY_DICTIONARY=KEY_DICTIONARY,this.selectedLayer=null,this.layerDirectives=[]}return _createClass(jfDockerV2LayersController,{$onInit:{value:function(){this.controller.layersController=this}},setSelected:{value:function(layer){this.selectedLayer&&this.selectedLayer!==layer&&this.selectedLayer.setSelected(!1),this.selectedLayer=layer}},refreshView:{value:function(){this.layerDirectives.length&&this.layerDirectives[0].setSelected(!0),$("#jf-artifacts .main-view").animate({scrollTop:"0"},400)}}}),jfDockerV2LayersController}()},function(module,exports){"use strict";module.exports={id:{icon:"icon icon-docker-id",tooltip:"ID"},digest:{icon:"icon icon-docker-digest",tooltip:"Digest"},command:{icon:"icon icon-docker-command",tooltip:"Command"},commandText:{icon:"icon icon-docker-command",tooltip:"Command"},created:{icon:"icon icon-docker-created",tooltip:"Created"},size:{icon:"icon icon-docker-size",tooltip:"Size"}}},function(module,exports,__webpack_require__){"use strict";var _interopRequire=function(obj){return obj&&obj.__esModule?obj["default"]:obj},HostDaoParamFormatter=_interopRequire(__webpack_require__(8)),NativeUIDescriptor=_interopRequire(__webpack_require__(9)),CommonDescriptor=_interopRequire(__webpack_require__(11)),DockerDescriptor=_interopRequire(__webpack_require__(30)),NpmDescriptor=_interopRequire(__webpack_require__(31));angular.module("services",[]).service("HostDaoParamFormatter",HostDaoParamFormatter).service("NativeUIDescriptor",NativeUIDescriptor).service("CommonDescriptor",CommonDescriptor).service("DockerDescriptor",DockerDescriptor).service("NpmDescriptor",NpmDescriptor)},function(module,exports){"use strict";var _createClass=function(){function defineProperties(target,props){for(var key in props){var prop=props[key];prop.configurable=!0,prop.value&&(prop.writable=!0)}Object.defineProperties(target,props)}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_classCallCheck=function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")},HostDaoParamFormatter=function(){function HostDaoParamFormatter(JFrogSubRouter,NativeUIDescriptor){_classCallCheck(this,HostDaoParamFormatter),this.descriptor=NativeUIDescriptor.getDescriptor(),this.getSubRouter=function(){return JFrogSubRouter.getActiveRouter()}}return _createClass(HostDaoParamFormatter,{format:{value:function(params){var daoMethod=void 0===arguments[1]?"":arguments[1];if(!daoMethod)return this.defaultFormat(params)}},wrapHostDataCalls:{value:function(hostDataCalls){var _this=this,excludedMethods=["getPackageTypes","isXrayEnabled","showInTree","cancelPackageExtraInfo","cancelVersionExtraInfo","showExtraInfo"];Object.keys(hostDataCalls).forEach(function(method){_.includes(excludedMethods,method)||!function(){var origMethod=hostDataCalls[method];hostDataCalls[method]=function(params){return origMethod(_this.format(params))}}()})}},getFiltersFromState:{value:function(overrides){var _this=this,stateParams=this.getSubRouter().params,filters=[],addFilter=function(id,values){var comparator=void 0===arguments[2]?_this.descriptor.common.defaultComparator:arguments[2];return filters.push({id:id,comparator:comparator,values:values})};stateParams.query&&Object.keys(stateParams.query).forEach(function(queryParam){addFilter("repos"===queryParam?"repo":queryParam,(stateParams.query[queryParam]||"").split(","))});var typeDescriptor=this.descriptor.typeSpecific[stateParams.packageType],pkgFilter=_.find(filters,{id:typeDescriptor.filters["package"]}),versionFilter=_.find(filters,{id:typeDescriptor.filters.version});return pkgFilter&&pkgFilter.values[0]&&!pkgFilter.values[0].endsWith("*")&&(pkgFilter.values[0]=pkgFilter.values[0]+"*"),(stateParams["package"]||overrides["package"])&&(pkgFilter?(pkgFilter.values=[stateParams["package"]||overrides["package"]],pkgFilter.comparator="equals"):addFilter(typeDescriptor.filters["package"],[stateParams["package"]||overrides["package"]],"equals")),(stateParams.version||overrides.version)&&(versionFilter?(versionFilter.values=[stateParams.version||overrides.version],versionFilter.comparator="equals"):addFilter(typeDescriptor.filters.version,[stateParams.version||overrides.version],"equals")),filters}},defaultFormat:{value:function(params){return{pathAndQuery:this._getDefaultPathAndQueryParams(params),payload:this.getFiltersFromState(params)}}},_getDefaultPathAndQueryParams:{value:function(params){var pathAndQueryParams={};params=_.extend({},this.getSubRouter().params,params||{});var set=function(from,to){params[from]&&(pathAndQueryParams[to]=params[from])};return set("package","packageName"),set("version","versionName"),set("packageType","packageType"),set("repo","repo"),set("path","path"),set("dataType","dataType"),set("manifest","manifest"),set("order","order"),set("sortBy","sort_by"),set("$no_spinner","$no_spinner"),set("limit","limit"),set("with_xray","with_xray"),set("from","from"),pathAndQueryParams}}}),HostDaoParamFormatter}();module.exports=HostDaoParamFormatter},function(module,exports,__webpack_require__){"use strict";var _interopRequire=function(obj){return obj&&obj.__esModule?obj["default"]:obj},_createClass=function(){function defineProperties(target,props){for(var key in props){var prop=props[key];prop.configurable=!0,prop.value&&(prop.writable=!0)}Object.defineProperties(target,props)}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_get=function get(object,property,receiver){var desc=Object.getOwnPropertyDescriptor(object,property);if(void 0===desc){var parent=Object.getPrototypeOf(object);return null===parent?void 0:get(parent,property,receiver)}if("value"in desc&&desc.writable)return desc.value;var getter=desc.get;if(void 0!==getter)return getter.call(receiver)},_inherits=function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(subClass.__proto__=superClass)},_classCallCheck=function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")},BaseDescriptor=_interopRequire(__webpack_require__(10)),NativeUIDescriptor=function(_BaseDescriptor){function NativeUIDescriptor(CommonDescriptor,DockerDescriptor,NpmDescriptor){_classCallCheck(this,NativeUIDescriptor),_get(Object.getPrototypeOf(NativeUIDescriptor.prototype),"constructor",this).call(this),this.CommonDescriptor=CommonDescriptor,this.DockerDescriptor=DockerDescriptor,this.NpmDescriptor=NpmDescriptor,this.init()}return _inherits(NativeUIDescriptor,_BaseDescriptor),_createClass(NativeUIDescriptor,{init:{value:function(){this.descriptor={common:this.CommonDescriptor.getDescriptor(),typeSpecific:{docker:this.DockerDescriptor.getDescriptor(),npm:this.NpmDescriptor.getDescriptor()}}}}}),NativeUIDescriptor}(BaseDescriptor);module.exports=NativeUIDescriptor},function(module,exports){"use strict";var _createClass=function(){function defineProperties(target,props){for(var key in props){var prop=props[key];prop.configurable=!0,prop.value&&(prop.writable=!0)}Object.defineProperties(target,props)}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_classCallCheck=function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")},BaseDescriptor=function(){function BaseDescriptor(){_classCallCheck(this,BaseDescriptor)}return _createClass(BaseDescriptor,{getDescriptor:{value:function(){return this.descriptor}},getRootDescriptor:{value:function(){var rootDescriptor=angular.element(document.body).injector().get("NativeUIDescriptor");return rootDescriptor.getDescriptor()}}}),BaseDescriptor}();module.exports=BaseDescriptor},function(module,exports,__webpack_require__){"use strict";var _interopRequire=function(obj){return obj&&obj.__esModule?obj["default"]:obj},_createClass=function(){function defineProperties(target,props){for(var key in props){var prop=props[key];prop.configurable=!0,prop.value&&(prop.writable=!0)}Object.defineProperties(target,props)}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_get=function get(object,property,receiver){var desc=Object.getOwnPropertyDescriptor(object,property);if(void 0===desc){var parent=Object.getPrototypeOf(object);return null===parent?void 0:get(parent,property,receiver)}if("value"in desc&&desc.writable)return desc.value;var getter=desc.get;if(void 0!==getter)return getter.call(receiver)},_inherits=function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(subClass.__proto__=superClass)},_classCallCheck=function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")},cellTemplates=_interopRequire(__webpack_require__(12)),BaseDescriptor=_interopRequire(__webpack_require__(10)),CommonDescriptor=function(_BaseDescriptor){function CommonDescriptor(JFrogTableViewOptions){_classCallCheck(this,CommonDescriptor),_get(Object.getPrototypeOf(CommonDescriptor.prototype),"constructor",this).call(this),this.cellTemplatesGenerators=JFrogTableViewOptions.cellTemplateGenerators,this.init()}return _inherits(CommonDescriptor,_BaseDescriptor),_createClass(CommonDescriptor,{init:{value:function(){var _this=this;this.descriptor={defaultComparator:"matches",readMoreTemplate:'<div class="show-more-ellipsis">...</div> <div class="show-more-text">Read more...</div>',packagesTableColumns:{name:{header:"@{PACKAGE_ALIAS} Name",width:"15%",cellTemplate:'<div class="name">\n                            {{row.entity.name}}\n                           </div>'},numOfRepos:{header:"Repositories Count",width:"15%",cellTemplate:"<div>\n                            {{row.entity.numOfRepos}} {{row.entity.numOfRepos===1 ? 'Repository' : 'Repositories'}}\n                           </div>"},repositories:{header:"Repositories",sortable:!1,cellTemplate:this.cellTemplatesGenerators.listableColumn("row.entity.repositories","row.entity.name"),width:"15%"},downloadsCount:{header:"Downloads",sortable:!1,cellTemplate:cellTemplates.packages.downloadsCount,width:"15%"},versionsCount:{header:"Versions Count",sortable:!1,cellTemplate:cellTemplates.packages.versionsCount,width:"15%"},lastModified:{header:"Last Modified",sortable:!1,cellTemplate:"<span jf-tooltip-on-overflow>\n                                        <jf-pending-data wait-for=\"row.entity.lastModified\">{{row.entity.lastModified | date: 'medium'}}</jf-pending-data>\n                                   </span>",width:"15%"},xrayStatus:{header:"Xray Status",sortable:!1,width:"15%",cellTemplate:'<div  ng-if="row.entity.xrayStatus" class="xray-status">\n                                <i  ng-class="[row.entity.xrayStatus.toLowerCase()]" class="icon-severity"></i>{{ row.entity.xrayStatus}}\n                            </div><div  ng-if="!row.entity.xrayStatus" class="xray-status">N/A</div>'},keywords:{header:"Keywords",sortable:!1,cellTemplate:cellTemplates.packages.keywords,width:"18%"}},versionsTableColumns:{name:{header:"@{VERSION_ALIAS} Name",width:"15%",cellTemplate:cellTemplates.versions.name},repo:{header:"Repository",width:"15%"},repositories:{header:"Repositories",sortable:!1,cellTemplate:this.cellTemplatesGenerators.listableColumn("row.entity.repositories","row.entity.name"),width:"15%"},packageId:{header:"Digest",sortable:!1,cellTemplate:cellTemplates.versions.packageId,width:"15%"},lastModified:{header:"Last Modified",cellTemplate:"<div class=\"last-modified\">\n                                {{ row.entity.lastModified | date : 'medium'}}\n                            </div>",width:"15%"},downloadsCount:{header:"Downloads",sortable:!1,width:"15%",cellTemplate:cellTemplates.versions.downloadsCount},xrayStatus:{header:"Xray Status",sortable:!1,width:"15%",cellTemplate:'<jf-pending-data disable-tooltip-on-overflow wait-for="row.entity.xrayStatus || row.entity.calculated">\n                                        <div class="xray-status"><i  ng-class="[row.entity.xrayStatus.toLowerCase()]" class="icon-severity"></i>{{ row.entity.xrayStatus || \'N/A\'}}</div>\n                                   </jf-pending-data>'},keywords:{header:"Keywords",sortable:!1,cellTemplate:cellTemplates.packages.keywords,width:"18%"}},packageSummaryColumns:{packageIcon:{"class":"package-icon text-center",template:'<div class="summary-icon-column" id="summary-icon">\n                                    <i class="icon" ng-class="$ctrl.packagesIcon"></i>\n                                </div>',isActive:!0,noWrap:!0,width:"120px"},packageName:{label:"@{PACKAGE_ALIAS} Name","class":"package-name",noWrap:!0,template:"<span jf-tooltip-on-overflow>{{$ctrl.summaryData.name || $ctrl.package.name || 'No package'}}</span>",isActive:!0,width:"auto"},numberOfDownloads:{label:"Downloads","class":"package-downloads-count",width:"minmax(200px,.6fr)",template:'<jf-pending-data wait-for="$ctrl.summaryData.numOfDownloads !== undefined ? $ctrl.summaryData.numOfDownloads : $ctrl.totalDownloadsForPackage">\n                                   {{$ctrl.summaryData.numOfDownloads !== undefined ? $ctrl.summaryData.numOfDownloads : $ctrl.totalDownloadsForPackage}}\n                               </jf-pending-data>',isActive:!0},lastModified:{label:"Last Modified","class":"package-modified-date",template:"<span jf-tooltip-on-overflow>\n                        {{($ctrl.summaryData.lastModified || $ctrl.package.lastModified) ? (($ctrl.summaryData.lastModified || $ctrl.package.lastModified) | date : 'medium') : '--'}}\n                       </span>",noWrap:!0,isActive:!0,width:"auto"},installCommand:{label:"Installation command","class":"package-install-command",template:'<div class="install-command"><span jf-tooltip-on-overflow>> {{$ctrl.summaryData.installCommand}}</span><jf-clip-copy text-to-copy="$ctrl.summaryData.installCommand" object-name="Command"></jf-clip-copy></div>',noWrap:!0,isActive:!0},keywords:{label:"Related keywords","class":"related-keywords",template:'<span>\n                                    <div class="keywords-wrap">\n                                        <div class="keyword"\n                                             ng-repeat="keyword in $ctrl.summaryData.keywords.slice(0,4)"\n                                             ng-click="$ctrl.nativeParent.filterByKeyword(keyword)"\n                                             ng-style="{\'max-width\': $ctrl.summaryData.keywords.length > 4 ? \'20%\' : $ctrl.summaryData.keywords.length > 0 ? (100/$ctrl.summaryData.keywords.length) + \'%\' : 0}"\n                                             jf-tooltip-on-overflow>\n                                            {{keyword}}\n                                        </div>\n                                    \n                                        <div class="keyword"\n                                             ng-if="$ctrl.summaryData.keywords.length > 4"\n                                             jf-tooltip="{{\'Show All (\' + $ctrl.summaryData.keywords.length + \')\'}}"\n                                             ng-click="$ctrl.nativeParent.showAll($event,$ctrl.summaryData.keywords, \'Keywords\', true, $ctrl.nativeParent.filterByKeyword.bind($ctrl.nativeParent), \'keywords-modal\')">\n                                            ...\n                                        </div>\n                                    </div>    \n                               </span>',noWrap:!0,isActive:!0,width:"minmax(350px,2fr)"},description:{label:"Description","class":"summary-description",template:'<div class="description-wrap" ng-if="$ctrl.summaryData.description">\n                                    <jf-text-box text="$ctrl.summaryData.description" \n                                                 max-lines="2"\n                                                 see-all-text="{{$ctrl.descriptor.common.readMoreTemplate}}" \n                                                 modal-title="@{PACKAGE_ALIAS} Description">\n                                    </jf-text-box>\n                               </div>',noWrap:!0,isActive:!0,width:"minmax(350px,2fr)"},license:{label:"License","class":"summary-license",template:"<span jf-tooltip-on-overflow>\n                                    <jf-pending-data wait-for=\"$ctrl.summaryData.license\">{{$ctrl.summaryData.license || 'No License'}}</jf-pending-data>\n                               </span>",noWrap:!0,isActive:!0,width:"minmax(150px,.5fr)"}},versionSummaryColumns:{versionIcon:{noWrap:!0,template:'<div class="summary-icon-column" id="summary-icon">\n                        <i class="icon" ng-class="$ctrl.versionIcon"></i>\n                    </div>',isActive:!0,width:"auto"},versionName:{label:"@{VERSION_ALIAS} Name","class":"version-name",noWrap:!0,template:"<span jf-tooltip-on-overflow>{{$ctrl.summaryData.name || $ctrl.version.name || 'No version'}}</span>",isActive:!0,width:"auto"},size:{label:"Size","class":"version-size",template:"{{$ctrl.version.size.length ? $ctrl.version.size : ($ctrl.version.size | filesize)}}",isActive:!0},packageName:{label:"@{PACKAGE_ALIAS} Name","class":"package-name",noWrap:!0,template:"<span jf-tooltip-on-overflow>{{$ctrl.version.packageName}}</span>",isActive:!0},packageId:{label:"@{PACKAGE_ALIAS} ID","class":"package-id",noWrap:!0,template:'<span class="package-id-content" \n                             jf-tooltip-on-overflow>\n                            {{ $ctrl.version.packageId }}\n                        </span>\n                        <jf-clip-copy \n                            text-to-copy="$ctrl.version.packageId"\n                            object-name="{{$ctrl.packageAlias}} ID">\n                        </jf-clip-copy>',isActive:!0},lastModified:{label:"Last Modified",noWrap:!0,template:"<span jf-tooltip-on-overflow>\n                        {{($ctrl.summaryData.lastModified || $ctrl.version.lastModified) ? (($ctrl.summaryData.lastModified || $ctrl.version.lastModified) | date : 'medium') : '--'}}\n                   </span>",isActive:!0}},widgets:{dockerLayers:{name:"Docker Layers",id:"docker-layers",template:__webpack_require__(20),controller:__webpack_require__(21),scroll:!0,showSpinner:!1},readme:{name:"Read me",id:"readme",template:__webpack_require__(22),controller:__webpack_require__(23),scroll:!0,showSpinner:!1},properties:{name:"Properties",id:"properties",template:__webpack_require__(24),controller:__webpack_require__(25),scroll:!0,showSpinner:!1},dependencies:{name:"Dependencies",id:"dependencies",template:__webpack_require__(26),controller:__webpack_require__(27),scroll:!0,showSpinner:!1},builds:{name:"Builds",id:"builds",template:__webpack_require__(28),controller:__webpack_require__(29),scroll:!0,showSpinner:!1}},transformers:{filters:function(data,packageType){var result={};return result.repos=data.results,result.reposCount=data.resultsCount,_this.getRootDescriptor().typeSpecific[packageType]&&(result.extraFilters=_this.getRootDescriptor().typeSpecific[packageType].filters),result}}}}}}),CommonDescriptor}(BaseDescriptor);module.exports=CommonDescriptor},function(module,exports,__webpack_require__){"use strict";module.exports={packages:{repositories:__webpack_require__(13),downloadsCount:__webpack_require__(14),versionsCount:__webpack_require__(15),keywords:__webpack_require__(16)},versions:{name:__webpack_require__(17),downloadsCount:__webpack_require__(18),packageId:__webpack_require__(19)}}},function(module,exports){module.exports='<div class="repositories no-cm-action"\n        ng-click="appScope.$ctrl.nativeParent.showAll($event,row.entity.repositories, \'Repositories\')"\n        disable-tooltip-on-overflow>\n\t<span jf-tooltip="Click text for full list">\n\t\t{{appScope.$ctrl.jFrogUIUtils.stringifyData(row.entity.repositories,\' : \')}}\n\t</span>\n</div>'},function(module,exports){module.exports='<div class="downloads-count no-cm-action"\n     disable-tooltip-on-overflow>\n\t<jf-pending-data wait-for="row.entity.downloadsCount">\n\t\t{{ row.entity.downloadsCount}} Download{{row.entity.downloadsCount === 1 ? \'\' : \'s\' }}\n\t</jf-pending-data>\n<!--\n\t<div ng-if="row.entity.downloadsCount !== undefined">\n\t\t<i class="icon icon-download"></i>\n\t\t<span>\n            {{ row.entity.downloadsCount}} Download{{row.entity.downloadsCount === 1 ? \'\' : \'s\' }}\n\t    </span>\n\t</div>\n\t<div ng-if="row.entity.downloadsCount === undefined && row.entity.manualOnDemendDownloadsCount">\n\t\t<i class="icon icon-download"></i>\n\t\t<span class="show-download-count"\n\t\t      jf-tooltip="Click to calculate"\n\t\t      ng-click="appScope.$ctrl.calcPackageDownloads($event,row.entity)">\n        Show downloads count\n    </span>\n\t</div>\n\t<div ng-if="row.entity.downloadsCount === undefined && !row.entity.manualOnDemendDownloadsCount">\n        &#45;&#45;\n\t</div>\n-->\n</div>\n'},function(module,exports){module.exports='<div class="versions-count" disable-tooltip-on-overflow>\n    <jf-pending-data wait-for="row.entity.versionsCount">\n        <div class="icon-wrapper">\n            <i class="icon"\n               ng-class="appScope.$ctrl.versionIcon">\n            </i>\n        </div>\n        {{row.entity.versionsCount || 0 }} {{appScope.$ctrl.versionAlias}}{{row.entity.versionsCount === 1 ? \'\' : \'s\'}}\n    </jf-pending-data>\n<!--\n    <div ng-if="row.entity.versionsCount !== undefined">\n        <div class="icon-wrapper">\n            <i class="icon"\n               ng-class="appScope.$ctrl.versionIcon">\n            </i>\n        </div>\n        {{row.entity.versionsCount || 0 }} {{appScope.$ctrl.versionAlias}}{{row.entity.versionsCount === 1 ? \'\' : \'s\'}}\n    </div>\n    <div ng-if="row.entity.versionsCount === undefined">\n        &#45;&#45;\n    </div>\n-->\n</div>\n'},function(module,exports){module.exports='<div class="keywords-wrap" disable-tooltip-on-overflow>\n\t<jf-pending-data wait-for="row.entity.keywords">\n\t\t<div class="keyword"\n\t\t     ng-repeat="keyword in row.entity.keywords.slice(0,3)"\n\t\t     ng-click="appScope.$ctrl.nativeParent.filterByKeyword(keyword); $event.stopPropagation()"\n\t\t     ng-style="{\'max-width\': row.entity.keywords.length > 3 ? \'25%\' : row.entity.keywords.length > 0 ? (100/row.entity.keywords.length) + \'%\' : 0}"\n\t\t     jf-tooltip-on-overflow>\n\t\t\t{{keyword}}\n\t\t</div>\n\n\t\t<div class="keyword"\n\t\t     ng-if="row.entity.keywords.length > 3"\n\t\t     jf-tooltip="{{\'Show All (\' + row.entity.keywords.length + \')\'}}"\n\t\t     ng-click="appScope.$ctrl.nativeParent.showAll($event,row.entity.keywords, \'Keywords\', true, appScope.$ctrl.nativeParent.filterByKeyword.bind(appScope.$ctrl.nativeParent), \'keywords-modal\')">\n\t\t\t...\n\t\t</div>\n\t</jf-pending-data>\n</div>'},function(module,exports){module.exports='<div class="name"\n     cm-additional-action="View version"\n     cm-additional-action-icon="icon-docker-tags">\n\t{{row.entity.name}}\n</div>'},function(module,exports){module.exports='<div class="downloads-count"\n     disable-tooltip-on-overflow>\n\t<jf-pending-data wait-for="row.entity.downloadsCount">\n\t\t<i class="icon icon-download"></i>\n\t\t{{ row.entity.downloadsCount || 0 }} Download{{row.entity.downloadsCount === 1 ? \'\' : \'s\' }}\n\t</jf-pending-data>\n\n<!--\n\t<i class="icon icon-download"></i>\n\t<span class="show-download-count no-cm-action"\n\t      jf-tooltip="Click to calculate"\n\t      ng-click="appScope.$ctrl.calcVersionDownloads(row.entity, $event)"\n\t      ng-if="row.entity.downloadsCount === undefined && row.entity.manualOnDemendDownloadsCount">\n        Show downloads count\n    </span>\n\t<span ng-if="row.entity.downloadsCount !== undefined && !row.entity.pendingCalculation">\n        {{ row.entity.downloadsCount || 0 }} Download{{row.entity.downloadsCount === 1 ? \'\' : \'s\' }}\n    </span>\n\t<span ng-if="row.entity.pendingCalculation">\n\t\t&#45;&#45;\n\t</span>\n-->\n</div>'},function(module,exports){module.exports='<div disable-tooltip-on-overflow jf-disable-ng-animate>\n\t<jf-clip-copy\n\t\t\ttext-to-copy="row.entity.packageId"\n\t\t\tobject-name="Digest">\n\t</jf-clip-copy>\n\t<div class="package-id" jf-tooltip-on-overflow>{{ row.entity.packageId }}</div>\n</div>'},function(module,exports){module.exports='<div class="version-widget-container docker-layers">\n\t<h4>Layers</h4>\n\t<jf-docker-v2-layers\n\t\t\tcontroller="ctrl.$scope.versionCtrl"\n\t\t\tdata="ctrl.$scope.versionCtrl.version.layers"\n\t\t\tcurrent-path="a/latest">\n\t</jf-docker-v2-layers>\n</div>\n'},function(module,exports){"use strict";var _createClass=function(){function defineProperties(target,props){for(var key in props){var prop=props[key];prop.configurable=!0,prop.value&&(prop.writable=!0)}Object.defineProperties(target,props)}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_classCallCheck=function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")},DockerLayersWidgetController=function(){function DockerLayersWidgetController($animate){_classCallCheck(this,DockerLayersWidgetController),this.$animate=$animate}return _createClass(DockerLayersWidgetController,{$onInit:{value:function(){this.$animate.enabled(this.$element,!0)}}}),DockerLayersWidgetController}();module.exports=DockerLayersWidgetController},function(module,exports){module.exports='<div class="version-widget-container">\n\t<div class="widget-title">Readme</div>\n\t<jf-markup-editor markup="ctrl.readme"\n\t                  language="\'Markdown\'"\n\t                  mode="\'View\'"\n\t                  editable="false"\n\t                  show-controls="false"></jf-markup-editor>\n</div>'},function(module,exports){"use strict";var _createClass=function(){function defineProperties(target,props){for(var key in props){var prop=props[key];prop.configurable=!0,prop.value&&(prop.writable=!0)}Object.defineProperties(target,props)}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_classCallCheck=function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")},ReadmeWidgetController=function(){function ReadmeWidgetController(){_classCallCheck(this,ReadmeWidgetController)}return _createClass(ReadmeWidgetController,{$onInit:{value:function(){this.hostData=this.$scope.versionCtrl.nativeParent.hostData,
this.subRouter=this.$scope.versionCtrl.subRouter,this.getReadme()}},getReadme:{value:function(){var _this=this;this.hostData.getVersionData({dataType:"readme",path:this.subRouter.params.versionPath}).then(function(response){_this.readme=response.readme})}}}),ReadmeWidgetController}();module.exports=ReadmeWidgetController},function(module,exports){module.exports='<div class="version-widget-container">\n\t<jf-table-view\n\t\t\toptions="ctrl.tableViewOptions">\n\t</jf-table-view>\n</div>'},function(module,exports){"use strict";var _createClass=function(){function defineProperties(target,props){for(var key in props){var prop=props[key];prop.configurable=!0,prop.value&&(prop.writable=!0)}Object.defineProperties(target,props)}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_classCallCheck=function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")},PropertiesWidgetController=function(){function PropertiesWidgetController(JFrogTableViewOptions){_classCallCheck(this,PropertiesWidgetController),this.JFrogTableViewOptions=JFrogTableViewOptions}return _createClass(PropertiesWidgetController,{$onInit:{value:function(){this.hostData=this.$scope.versionCtrl.nativeParent.hostData,this.subRouter=this.$scope.versionCtrl.subRouter,this.createTable(),this.getProperties()}},createTable:{value:function(){this.tableViewOptions=new this.JFrogTableViewOptions(this.$scope),this.tableViewOptions.setColumns(this.getColumns()).showPagination(!1).setObjectName("property/properties")}},getColumns:{value:function(){return[{header:"Key name",field:"key"},{header:"Values",field:"values",cellTemplate:"<div>{{row.entity.values.join (',')}}</div>"}]}},getProperties:{value:function(){var _this=this;this.hostData.getVersionData({dataType:"props",path:this.subRouter.params.versionPath}).then(function(response){_this.tableViewOptions.setData(response.properties)})}}}),PropertiesWidgetController}();module.exports=PropertiesWidgetController},function(module,exports){module.exports='<div class="version-widget-container">\n\t<div ng-if="ctrl.data.dependencies.length">\n\t\t<div class="widget-title">Dependencies</div>\n\t\t<div class="dependencies-list">{{ctrl.data.dependencies.join(\', \')}}</div>\n\t\t<hr/>\n\t</div>\n\t<div ng-if="ctrl.data.devDependencies.length">\n\t\t<div class="widget-title">Dev Dependencies</div>\n\t\t<div class="dependencies-list">{{ctrl.data.devDependencies.join(\', \')}}</div>\n\t</div>\n\t<div ng-if="!ctrl.data.devDependencies.length && !ctrl.data.dependencies.length">\n\t\t<div class="widget-title">Dependencies: No Dependencies</div>\n\t</div>\n</div>'},function(module,exports){"use strict";var _createClass=function(){function defineProperties(target,props){for(var key in props){var prop=props[key];prop.configurable=!0,prop.value&&(prop.writable=!0)}Object.defineProperties(target,props)}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_classCallCheck=function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")},DependenciesWidgetController=function(){function DependenciesWidgetController(){_classCallCheck(this,DependenciesWidgetController)}return _createClass(DependenciesWidgetController,{$onInit:{value:function(){this.hostData=this.$scope.versionCtrl.nativeParent.hostData,this.subRouter=this.$scope.versionCtrl.subRouter,this.getDependencies()}},getDependencies:{value:function(){var _this=this;this.hostData.getVersionData({dataType:"dependencies",path:this.subRouter.params.versionPath}).then(function(response){_this.data={dependencies:_.map(response.dependencies,"name"),devDependencies:_.map(response.devDependencies,"name")}})}}}),DependenciesWidgetController}();module.exports=DependenciesWidgetController},function(module,exports){module.exports='<div class="version-widget-container">\n\t<jf-table-view\n\t\t\toptions="ctrl.tableViewOptions">\n\t</jf-table-view>\n</div>'},function(module,exports){"use strict";var _createClass=function(){function defineProperties(target,props){for(var key in props){var prop=props[key];prop.configurable=!0,prop.value&&(prop.writable=!0)}Object.defineProperties(target,props)}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_classCallCheck=function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")},BuildsWidgetController=function(){function BuildsWidgetController(JFrogTableViewOptions,$state){_classCallCheck(this,BuildsWidgetController),this.$state=$state,this.JFrogTableViewOptions=JFrogTableViewOptions}return _createClass(BuildsWidgetController,{$onInit:{value:function(){this.hostData=this.$scope.versionCtrl.nativeParent.hostData,this.subRouter=this.$scope.versionCtrl.subRouter,this.createTable(),this.getBuilds()}},createTable:{value:function(){this.tableViewOptions=new this.JFrogTableViewOptions(this.$scope),this.tableViewOptions.setColumns(this.getColumns()).setActions(this.getActions()).showPagination(!1).setObjectName("build")}},getColumns:{value:function(){return[{header:"Build Name",field:"name"},{header:"Build Number",field:"number"},{header:"Creation Date",field:"createDate",cellTemplate:"<div>{{row.entity.createDate | date : 'medium'}}</div>"}]}},getActions:{value:function(){var _this=this;return[{icon:"icon icon-arrow",tooltip:"Go to build",callback:function(row){return _this.$state.go("builds.build_page",{buildName:row.name,buildNumber:row.number,tab:null})}}]}},getBuilds:{value:function(){var _this=this;this.hostData.getVersionData({dataType:"builds",path:this.subRouter.params.versionPath}).then(function(response){_this.tableViewOptions.setData(response.results)})}}}),BuildsWidgetController}();module.exports=BuildsWidgetController},function(module,exports,__webpack_require__){"use strict";var _interopRequire=function(obj){return obj&&obj.__esModule?obj["default"]:obj},_createClass=function(){function defineProperties(target,props){for(var key in props){var prop=props[key];prop.configurable=!0,prop.value&&(prop.writable=!0)}Object.defineProperties(target,props)}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_get=function get(object,property,receiver){var desc=Object.getOwnPropertyDescriptor(object,property);if(void 0===desc){var parent=Object.getPrototypeOf(object);return null===parent?void 0:get(parent,property,receiver)}if("value"in desc&&desc.writable)return desc.value;var getter=desc.get;if(void 0!==getter)return getter.call(receiver)},_inherits=function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(subClass.__proto__=superClass)},_classCallCheck=function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")},BaseDescriptor=_interopRequire(__webpack_require__(10)),DockerDescriptor=function(_BaseDescriptor){function DockerDescriptor(){_classCallCheck(this,DockerDescriptor),_get(Object.getPrototypeOf(DockerDescriptor.prototype),"constructor",this).call(this),this.init()}return _inherits(DockerDescriptor,_BaseDescriptor),_createClass(DockerDescriptor,{init:{value:function(){var _this=this;this.descriptor={transformers:{packages:function(data){var result={};return data.results&&data.results.length&&(result.data=data.results.map(function(image){return 0===image.lastModified&&delete image.lastModified,_this.descriptor.transformers["package"](image)})),result.itemsCount=data.resultsCount,result},"package":function(data){var result={};return result.name=data.name||data.packageName,result.repositories=data.repositories,result.numOfRepos=data.numOfRepos,result.downloadsCount=data.totalDownloads,result.versionsCount=data.totalVersions,result.lastModified=data.lastModified,data.versions&&(result.versions=data.versions.map(function(version){return _this.descriptor.transformers.version(version)})),result},version:function(data){var result={};return result.name=data.name,result.packageName=data.packageName,result.packageId=data.packageId,result.lastModified=data.lastModified,result.size=data.size,result.security=data.security,result.labels=data.labels,result.repo=data.repoKey,result.downloadsCount=data.totalDownloads,result.xrayStatus=data.xrayStatus,result.layers=data.blobsInfo,result}},aliases:{"package":"image",version:"tag"},icons:{packages:"icon-navigation-products","package":"repotype iconrepo iconrepo-docker",version:"icon-docker-tags"},filters:{"package":"pkg",version:"version"},filtersLabels:{pkg:"Image Name",version:"Tag"},installPrefix:"docker pull",packagesTableColumns:["name","repositories","downloadsCount","versionsCount","lastModified"],versionsTableColumns:["name","repo","packageId","lastModified","downloadsCount","xrayStatus"],packageSummaryColumns:["packageIcon","packageName","numberOfDownloads","lastModified"],versionSummaryColumns:["versionIcon","versionName","size","packageName","packageId","lastModified"],widgetsLayout:{main:{rows:[{size:"100%",cells:["100% @dockerLayers"]}]}}}}}}),DockerDescriptor}(BaseDescriptor);module.exports=DockerDescriptor},function(module,exports,__webpack_require__){"use strict";var _interopRequire=function(obj){return obj&&obj.__esModule?obj["default"]:obj},_createClass=function(){function defineProperties(target,props){for(var key in props){var prop=props[key];prop.configurable=!0,prop.value&&(prop.writable=!0)}Object.defineProperties(target,props)}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_get=function get(object,property,receiver){var desc=Object.getOwnPropertyDescriptor(object,property);if(void 0===desc){var parent=Object.getPrototypeOf(object);return null===parent?void 0:get(parent,property,receiver)}if("value"in desc&&desc.writable)return desc.value;var getter=desc.get;if(void 0!==getter)return getter.call(receiver)},_inherits=function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(subClass.__proto__=superClass)},_classCallCheck=function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")},BaseDescriptor=_interopRequire(__webpack_require__(10)),NpmDescriptor=function(_BaseDescriptor){function NpmDescriptor(){_classCallCheck(this,NpmDescriptor),_get(Object.getPrototypeOf(NpmDescriptor.prototype),"constructor",this).call(this),this.init()}return _inherits(NpmDescriptor,_BaseDescriptor),_createClass(NpmDescriptor,{init:{value:function(){var _this=this;this.descriptor={transformers:{packages:function(data){var result={};return data.results&&data.results.length&&(result.data=data.results.map(function(image){return _this.descriptor.transformers["package"](image)})),result.itemsCount=data.resultsCount,result},"package":function(data){var result={};return result.name=data.name||data.packageName,result.repositories=data.repositories,result.numOfRepos=data.numOfRepos,result.downloadsCount=data.totalDownloads,result.versionsCount=data.numOfVersions,result.lastModified=data.lastModified,result.latestPath=data.latestPath,result.keywords=data.keywords,result.xrayStatus=data.xrayStatus,data.results&&(result.versions=data.results.map(function(version){return delete version.numOfDownloads,_this.descriptor.transformers.version(version)})),result},version:function(data){return data.downloadsCount=data.numOfDownloads||data.totalDownloads,data}},aliases:{"package":"package",version:"version"},icons:{packages:"icon-navigation-products","package":"repotype iconrepo iconrepo-npm",version:"icon-docker-tags"},filters:{"package":"npmName",version:"npmVersion",keywords:"npmKeywords",scope:"npmScope",checksum:"npmChecksum"},filtersLabels:{npmName:"Package Name",npmVersion:"Version",npmKeywords:"Keywords",npmScope:"Scope",npmChecksum:"Checksum"},installPrefix:"npm i",packagesTableColumns:["name","repositories","downloadsCount","versionsCount","lastModified"],versionsTableColumns:["name","repositories","lastModified","downloadsCount","xrayStatus","keywords"],columnsRemovedForDerby:["downloadsCount","keywords","xrayStatus"],packageSummaryColumns:["packageIcon","packageName","description","license","numberOfDownloads","lastModified","installCommand"],versionSummaryColumns:["versionIcon","versionName","description","license","numberOfDownloads","lastModified","installCommand"],widgetsLayout:{main:{rows:[{size:"100%",cells:["50% @readme","50% #rightSide"]}]},rightSide:{rows:[{size:"33%",cells:["100% @properties"]},{size:"33%",cells:["100% @dependencies"]},{size:"33%",cells:["100% @builds"]}]}}}}}}),NpmDescriptor}(BaseDescriptor);module.exports=NpmDescriptor},function(module,exports,__webpack_require__){"use strict";var _interopRequire=function(obj){return obj&&obj.__esModule?obj["default"]:obj},PackagesNative=_interopRequire(__webpack_require__(33));angular.module("ui_components",[PackagesNative.name])},function(module,exports,__webpack_require__){"use strict";var _interopRequire=function(obj){return obj&&obj.__esModule?obj["default"]:obj},PackagesComponent=_interopRequire(__webpack_require__(34)),PackageComponent=_interopRequire(__webpack_require__(37)),PackagesNativeComponent=_interopRequire(__webpack_require__(40)),VersionComponent=_interopRequire(__webpack_require__(43)),NativeFiltersDropdown=_interopRequire(__webpack_require__(46));module.exports=angular.module("packages.native",[]).component("packagesNativeComponent",new PackagesNativeComponent).component("packagesComponent",new PackagesComponent).component("packageComponent",new PackageComponent).component("versionComponent",new VersionComponent).component("nativeFiltersDropdown",new NativeFiltersDropdown)},function(module,exports,__webpack_require__){"use strict";var _interopRequire=function(obj){return obj&&obj.__esModule?obj["default"]:obj},_classCallCheck=function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")},PackagesController=_interopRequire(__webpack_require__(35)),PackagesComponent=function PackagesComponent(){_classCallCheck(this,PackagesComponent),this.template=__webpack_require__(36),this.controller=PackagesController,this.bindings={nativeParent:"="}};module.exports=PackagesComponent},function(module,exports){"use strict";var _createClass=function(){function defineProperties(target,props){for(var key in props){var prop=props[key];prop.configurable=!0,prop.value&&(prop.writable=!0)}Object.defineProperties(target,props)}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_classCallCheck=function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")},PackagesController=function(){function PackagesController(JFrogSubRouter,$q,$scope,JFrogTableViewOptions,JFrogUIUtils,NativeUIDescriptor){_classCallCheck(this,PackagesController),this.subRouter=JFrogSubRouter.getActiveRouter(),this.$stateParams=this.subRouter.params,this.$scope=$scope,this.$q=$q,this.JFrogTableViewOptions=JFrogTableViewOptions,this.jFrogUIUtils=JFrogUIUtils,this.descriptor=NativeUIDescriptor.getDescriptor(),this.sorting={sortBy:"name",order:"asc"},this.ready=!1,this.extraInfoRequestsToCancel=[]}return _createClass(PackagesController,{$onInit:{value:function(){var _this=this;this.nativeParent.stateController=this,this.packages={},this.initPackagesViewData(this.$stateParams),this.subRouter.listenForChanges(["packageType","query"],"packages",function(oldP,newP){_this.initPackagesViewData(_this.$stateParams),oldP.query&&!newP.query&&(_this.initFilters(),_this.getSelectedRepos(),_this.getFilteredData())},this.$scope)}},getPackagesData:{value:function(daoParams){var _this=this;if(!daoParams.filters||!daoParams.filters.length)return this.initEmptyPackagesPage(daoParams);var searchParams={filters:daoParams.filters||[],sortBy:daoParams.sortBy||"name",order:daoParams.order||"asc"},cached=this.nativeParent.cache("packages.list");return cached&&_.isEqual(cached.searchParams,searchParams)?(cached.list&&cached.list.data&&cached.list.data.forEach(function(row){return delete row.calculationPending}),this.packages.list=cached.list,this.$q.when()):(this.$pendingData=!0,this.nativeParent.hostData.getPackages(searchParams).then(function(packages){_this.packages.list=_this.typeSpecific.transformers.packages(packages),_this.nativeParent.cache("packages.list",{list:_this.packages.list,searchParams:_.cloneDeep(searchParams)}),_this.$pendingData=!1}))}},initPackagesViewData:{value:function(daoParams){var _this=this;delete this.hasSelectedFilters,this.resetReposList(),this.refreshPackageTypes(daoParams).then(function(){_this.$q.all([_this.refreshFilters(daoParams)]).then(function(){_this.initSelectedPackageType(),_this.refreshAll(),_this.ready=!0})["catch"](function(e){return console.error(e)})})}},refreshPackageTypes:{value:function(daoParams){var _this=this;return this.nativeParent.getAvailablePackageTypes(daoParams).then(function(packageTypes){_this.packageTypes=packageTypes})}},refreshFilters:{value:function(daoParams){var _this=this;return this.nativeParent.hostData.getRepos(daoParams).then(function(filters){_this.filters=_this.descriptor.common.transformers.filters(filters,daoParams.packageType)})}},initEmptyPackagesPage:{value:function(daoParams){var defferd=this.$q.defer();return this.packages.list=this.typeSpecific.transformers.packages([]),defferd.resolve(this.packages.list),defferd.promise}},refreshAll:{value:function(){this.initFilters(),this.initConstants(),this.initTable()}},typeSpecific:{get:function(){return this.selectedPackageType?this.descriptor.typeSpecific[this.selectedPackageType.value]:{}}},initConstants:{value:function(){this.typeSpecific&&this.typeSpecific.aliases&&this.typeSpecific.icons&&(this.packageAlias=this.jFrogUIUtils.capitalizeFirstLetter(this.typeSpecific.aliases["package"]),this.versionAlias=this.jFrogUIUtils.capitalizeFirstLetter(this.typeSpecific.aliases.version),this.packageTypeIcon=this.typeSpecific.icons["package"],this.versionIcon=this.typeSpecific.icons.version)}},initSelectedPackageType:{value:function(){var _this=this,selected=_.find(this.packageTypes,function(packageType){return packageType.value===_this.$stateParams.packageType});selected&&(this.selectedPackageType=selected)}},initFilters:{value:function(){var _this=this;this.reposList=_.map(this.filters.repos,function(value){return{text:value,isSelected:!!_this.$stateParams.query.repos&&_.includes(_this.$stateParams.query.repos.split(","),value)}}),this.moreFiltersList=_.map(Object.keys(this.filters.extraFilters||{}),function(value){var id=_this.filters.extraFilters[value];return{text:_this.descriptor.typeSpecific[_this.$stateParams.packageType].filtersLabels[id],id:id,isSelected:!!_this.$stateParams.query[id],inputTextValue:_this.$stateParams.query[id]||""}}),this.initialDropDownPlaceholder=this.moreFiltersList[0]?this.moreFiltersList[0].text+" (You can use * or ? as wildcards)":"",_.isEmpty(this.$stateParams.query)||(this.getSelectedRepos(),this.getFilteredData())}},initTable:{value:function(){var _this=this;this.tableViewOptions=new this.JFrogTableViewOptions(this.$scope),this.tableViewOptions.setColumns(this.getColumns()).showFilter(!1).showCounter(!1).showPagination(!1).setPaginationMode(this.tableViewOptions.VIRTUAL_SCROLL).setRowsPerPage("auto").setRowHeight(76,25).alwaysShowSortingArrows().setEmptyTableText("No "+this.packageAlias+"s found. You can broaden your search by using the * wildcard"),this.tableViewOptions.on("row.clicked",this.onRowClick.bind(this)),this.tableViewOptions.useExternalSortCallback(this.onSortChange.bind(this)),this.tableViewOptions.on("row.in.view",function(row){("docker"===_this.$stateParams.packageType||_this.nativeParent.showExtraInfo)&&_this.calcPackageExtraData(row)})}},onSortChange:{value:function(field,dir){"versionsCount"===field&&(field="totalVersions"),this.sorting={sortBy:field,order:dir},this.getFilteredData()}},onRowClick:{value:function(row){row&&row.entity&&row.entity.name&&"Name"!==row.entity.name&&this.goToPackage(row.entity.name)}},getColumns:{value:function(){var _this=this;return this.nativeParent.showExtraInfo||!function(){var hiddenColumns=_this.typeSpecific.columnsRemovedForDerby;_this.typeSpecific.packagesTableColumns=_.filter(_this.typeSpecific.packagesTableColumns,function(col){return!_.includes(hiddenColumns,_.isString(col)?col:col.field)})}(),_.map(this.typeSpecific.packagesTableColumns,function(column){var columnObj=void 0;return _.isString(column)?(columnObj=_.cloneDeep(_this.descriptor.common.packagesTableColumns[column]),columnObj.field=column):columnObj=column,columnObj.header.indexOf("@{PACKAGE_ALIAS}")!==-1&&(columnObj.header=columnObj.header.replace("@{PACKAGE_ALIAS}",_this.packageAlias)),columnObj})}},resetReposList:{value:function(){this.reposList&&this.reposList.length&&this.reposList.forEach(function(repo){return repo.isSelected=!1}),this.selectedRepos=null}},getSelectedRepos:{value:function(){var selected=_.filter(this.reposList,function(repo){return repo.isSelected});selected.length?this.selectedRepos=[{id:"repo",comparator:this.descriptor.common.defaultComparator,values:selected.map(function(selectedRepo){return selectedRepo.text})}]:this.selectedRepos=null}},getSelectedFilters:{value:function(){var _this=this,selected=_.filter(this.moreFiltersList,function(filter){return filter.inputTextValue}).map(function(filter){return{id:filter.id,comparator:_this.descriptor.common.defaultComparator,values:[filter.inputTextValue||""]}});this.selectedFilters=selected.length?selected:null}},getFilteredData:{value:function(){var _this=this,noCache=void 0!==arguments[0]&&arguments[0];noCache&&this.nativeParent.cache("packages.list",null),this.getSelectedFilters();var daoParams={filters:this.concatAllActiveFilters(),sortBy:this.sorting.sortBy,order:this.sorting.order};this.moreFiltersList.forEach(function(filter){var actualFilter=_.find(daoParams.filters,{id:filter.id});actualFilter&&actualFilter.values[0]?_this.$stateParams.query[filter.id]=actualFilter.values[0]:delete _this.$stateParams.query[filter.id]}),this.cancelPackageExtraInfo(),this.getPackagesData(daoParams).then(function(){_this.tableViewOptions.setData(_this.packages.list.data),_this.hasSelectedFilters=daoParams.filters.length>0})}},concatAllActiveFilters:{value:function(){var filters=[];return filters=this.selectedFilters?filters.concat(this.selectedFilters):filters,filters=this.selectedRepos?filters.concat(this.selectedRepos):filters}},onPackageTypeChange:{value:function(){this.$stateParams.packageType=this.selectedPackageType.value,localStorage.lastNativeUIPackageType=this.$stateParams.packageType,this.packages={},this.$stateParams.query={},delete this.hasSelectedFilters,this.cancelPackageExtraInfo(),this.initPackagesViewData(this.$stateParams),this.refreshAll()}},onRepoFilterChange:{value:function(){this.getSelectedRepos(),this.selectedRepos&&this.selectedRepos[0]&&this.selectedRepos[0].values?this.$stateParams.query.repos=this.selectedRepos[0].values.join(","):delete this.$stateParams.query.repos}},onExtraFilterChange:{value:function(){this.getSelectedFilters()}},getPackageTypeTemplate:{value:function($item){return'<div>\n                    <i class="icon '+$item.iconClass+'"></i>\n                    <span>'+$item.displayText+"</span>\n                </div>"}},goToPackage:{value:function(packageName){this.cancelPackageExtraInfo(),this.subRouter["goto"]("package",{packageType:this.selectedPackageType.value,"package":packageName})}},calcPackageExtraData:{value:function(row){var _this=this;if(!row.calculated&&!row.calculationPending){var pkgName=row.name,daoParams={"package":pkgName,packageType:this.selectedPackageType.value};return row.calculationPending=!0,this.nativeParent.hostData.getPackageExtraInfo(daoParams).then(function(response){_.merge(row,_this.typeSpecific.transformers["package"](response)),row.calculated=!0,row.calculationPending=!1})}}},cancelPackageExtraInfo:{value:function(){this.nativeParent.hostData.cancelPackageExtraInfo()}},calcPackageDownloads:{value:function(e,row){e.stopPropagation();var pkgName=row.name,daoParams={"package":pkgName,packageType:this.selectedPackageType.value};this.nativeParent.hostData.getPackageDownloadsCount(daoParams).then(function(response){row.downloadsCount=response.totalDownloads,delete row.manualOnDemendDownloadsCount})}}}),PackagesController}();module.exports=PackagesController},function(module,exports){module.exports='<div class="jf-page-wrapper">\n\t<div class="jf-page-header">\n\t\t<div class="jf-header-item">\n\t\t\t<h1>\n\t\t\t\tPackage View\n\t\t\t\t<span>\n                    <i class="native-package-type-icon" ng-class="$ctrl.packageTypeIcon"></i>\n                </span>\n\n\t\t\t\t<span class="package-count" ng-if="$ctrl.packages.list.itemsCount && $ctrl.totalCount === undefined">\n                    {{$ctrl.packages.list.itemsCount ? \'(\'+$ctrl.packages.list.itemsCount+\')\' : \'\'}}\n                </span>\n\t\t\t\t<span class="package-count" ng-if="$ctrl.packages.list.itemsCount && $ctrl.totalCount !== undefined">\n                    {{$ctrl.packages.list.itemsCount ? \'(\'+$ctrl.packages.list.itemsCount : \'\'}} {{$ctrl.totalCount !== undefined ? \'out of \' + $ctrl.totalCount + \')\': \'\'}}\n                </span>\n\t\t\t</h1>\n\t\t\t<span class="filter repo-type">\n                <jf-ui-select\n\t\t                jf-select-placeholder="Select package type..."\n\t\t                jf-select-display-func="$ctrl.getPackageTypeTemplate($item)"\n\t\t                jf-select-model="$ctrl.selectedPackageType"\n\t\t                jf-select-change="$ctrl.onPackageTypeChange()"\n\t\t                jf-select-options="$ctrl.packageTypes">\n                </jf-ui-select>\n            </span>\n\t\t</div>\n\n\t\t<div class="jf-header-item">\n\t\t\t<form>\n\t\t\t\t<div class="filters">\n                    <span class="filter repos-filters">\n                        <native-filters-dropdown\n\t\t                        borderless="false"\n\t\t                        initial-title="$ctrl.initialDropDownPlaceholder"\n\t\t                        on-search-submit="$ctrl.getFilteredData(true)"\n\t\t                        on-change="$ctrl.onRepoFilterChange()"\n\t\t                        repos="$ctrl.reposList"\n\t\t                        extra-filters="$ctrl.moreFiltersList">\n                        </native-filters-dropdown>\n                    </span>\n\t\t\t\t</div>\n\t\t\t</form>\n\t\t</div>\n\t</div>\n\t<div class="jf-page-content">\n\t\t<div class="jf-main-content-pane">\n\t\t\t<jf-table-view\n\t\t\t\t\tjf-disable-ng-animate\n\t\t\t\t\tng-show="$ctrl.hasSelectedFilters"\n\t\t\t\t\toptions="$ctrl.tableViewOptions"\n\t\t\t\t\tobject-name="Package">\n\t\t\t</jf-table-view>\n\t\t\t<div class="no-filters-message"\n\t\t\t     jf-disable-ng-animate\n\t\t\t     ng-show="!$ctrl.hasSelectedFilters && !$ctrl.$pendingData && $ctrl.ready">\n\t\t\t\t<h1>Add search criteria to display {{$ctrl.typeSpecific.aliases.package}} list</h1>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</div>\n'},function(module,exports,__webpack_require__){"use strict";var _interopRequire=function(obj){return obj&&obj.__esModule?obj["default"]:obj},_classCallCheck=function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")},PackageController=_interopRequire(__webpack_require__(38)),PackageComponent=function PackageComponent(){_classCallCheck(this,PackageComponent),this.template=__webpack_require__(39),this.controller=PackageController,this.bindings={nativeParent:"="}};module.exports=PackageComponent},function(module,exports){"use strict";var _createClass=function(){function defineProperties(target,props){for(var key in props){var prop=props[key];prop.configurable=!0,prop.value&&(prop.writable=!0)}Object.defineProperties(target,props)}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_classCallCheck=function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")},rawMockData=[{version:"1.02",downloads:120,status:"critical(15)",xrayViolations:{violations:{license:{unknown:22,minor:42,major:53,critical:30},security:{unknown:22,minor:422,major:123,critical:220}}},details_url:"http://xray/..."},{version:"1.03",downloads:130,status:"critical(15)",xrayViolations:{violations:{license:{unknown:32,minor:42,major:53,critical:320},security:{unknown:52,minor:32,major:23,critical:72}}},details_url:"http://xray/..."},{version:"1.1",downloads:640,status:"critical(15)",xrayViolations:{violations:{license:{unknown:22,minor:52,major:33,critical:80},security:{unknown:0,minor:9,major:33,critical:70}}},details_url:"http://xray/..."},{version:"1.2",downloads:120,status:"critical(15)",xrayViolations:{violations:{license:{unknown:0,minor:0,major:0,critical:14},security:{unknown:0,minor:0,major:3,critical:54}}},details_url:"http://xray/..."},{version:"1.3",downloads:100,status:"critical(15)",xrayViolations:{violations:{license:{unknown:11,minor:2,major:4,critical:120},security:{unknown:12,minor:52,major:33,critical:80}}},details_url:"http://xray/..."},{version:"1.4",downloads:180,status:"critical(15)",xrayViolations:{violations:{license:{unknown:22,minor:21,major:32,critical:60},security:{unknown:32,minor:22,major:23,critical:20}}},details_url:"http://xray/..."},{version:"1.5",downloads:500,status:"critical(15)",xrayViolations:{violations:{license:{unknown:2,minor:2,major:3,critical:20},security:{unknown:2,minor:2,major:3,critical:20}}},details_url:"http://xray/..."},{version:"1.6",downloads:4332,status:"critical(15)",xrayViolations:{violations:{license:{unknown:0,minor:0,major:0,critical:0},security:{unknown:0,minor:0,major:0,critical:0}}},details_url:"http://xray/..."},{version:"1.7",downloads:250,status:"critical(15)",xrayViolations:{violations:{license:{unknown:2,minor:2,major:3,critical:20},security:{unknown:42,minor:22,major:23,critical:20}}},details_url:"http://xray/..."},{version:"1.8",downloads:32,status:"critical(15)",xrayViolations:{violations:{license:{unknown:22,minor:22,major:13,critical:220},security:{unknown:92,minor:42,major:63,critical:220}}},details_url:"http://xray/..."},{version:"1.9",downloads:800,status:"critical(15)",xrayViolations:{violations:{license:{unknown:32,minor:22,major:13,critical:420},security:{unknown:22,minor:52,major:53,critical:320}}},details_url:"http://xray/..."}],PackageController=function(){function PackageController(JFrogSubRouter,$scope,$q,JFrogTableViewOptions,JFrogUIUtils,$rootScope,JFrogModal,NativeUIDescriptor,$window){_classCallCheck(this,PackageController),this.subRouter=JFrogSubRouter.getActiveRouter(),
this.$stateParams=this.subRouter.params,this.$scope=$scope,this.$window=$window,this.$q=$q,this.JFrogTableViewOptions=JFrogTableViewOptions,this.jFrogUIUtils=JFrogUIUtils,this.$rootScope=$rootScope,this.modal=JFrogModal,this.descriptor=NativeUIDescriptor.getDescriptor(),this.showSecurityViolations=!0,this.showLicensesViolations=!0,this.showDownloadsStats=!0}return _createClass(PackageController,{$onInit:{value:function(){var _this=this;this.nativeParent.stateController=this;var init=function(){_this.initTable(),_this.limitOptions=["5","10","15"],_this.limitVal="10",_this.dateSpanOptions=[{displayName:"All Times",value:null},{displayName:"Last 24 Hours",value:"LAST_24H"},{displayName:"Last 7 Days",value:"LAST_7D"},{displayName:"Last 14 Days",value:"LAST_14D"}],_this.selectedTimeSpan=_this.dateSpanOptions[0],_this.$scope.$watch("$ctrl.toggleByStringModel",function(){_this.tableViewOptions.update()}),_this.subRouter.listenForChanges(["packageType","package","repos"],"package",function(){_this.getSummaryData(),_this.getPackageData().then(function(){_this.tableViewOptions.setData(_this["package"].versions)})},_this.$scope),_this.summaryColumns=_this.getSummaryColumns()};this.nativeParent.hostData.isXrayEnabled().then(function(response){_this.withXray=response,_this.withXray?_this.getXrayData():_this.chartConfig=_this.getGraphObj()}),this.initConstants(),this.getSummaryData(),this.getPackageData().then(function(){init()})["catch"](function(){_this["package"]={},init()})}},typeSpecific:{get:function(){return this.descriptor.typeSpecific[this.$stateParams.packageType]}},getSummaryData:{value:function(){var _this=this;if("docker"===this.$stateParams.packageType)return this.summaryData={},this.summaryData.installCommand=this.descriptor.typeSpecific[this.$stateParams.packageType].installPrefix+" "+this.$stateParams["package"],this.$q.when();var _ret=function(){var defer=_this.$q.defer(),cached=_this.nativeParent.cache("package.summary");return cached&&_.isEqual(cached.state,_this.$stateParams)?(_this.summaryData=cached.data,defer.resolve()):_this.nativeParent.hostData.getPackageSummary(_this.$stateParams).then(function(summaryData){_this.summaryData=summaryData,_this.nativeParent.cache("package.summary",{data:_this.summaryData,state:_.cloneDeep(_this.$stateParams)}),_this.summaryData.installCommand=_this.descriptor.typeSpecific[_this.$stateParams.packageType].installPrefix+" "+_this.$stateParams["package"],summaryData.latestPath?_this.nativeParent.hostData.getPackageSummaryExtraInfo(_.extend({},_this.$stateParams,{path:summaryData.latestPath})).then(function(summaryExtraData){_.extend(_this.summaryData,summaryExtraData),defer.resolve()}):defer.resolve()})["catch"](console.error),{v:defer.promise}}();return"object"==typeof _ret?_ret.v:void 0}},getPackageData:{value:function(additionalDaoParams){var _this=this;additionalDaoParams=additionalDaoParams||{},additionalDaoParams.sortBy=additionalDaoParams.sortBy||"lastModified",additionalDaoParams.order=additionalDaoParams.order||"desc";var daoParams=_.extend({},this.$stateParams,additionalDaoParams);delete daoParams.repos,daoParams.repoFilter=[],this.$stateParams.query.repos&&daoParams.repoFilter.push({id:"repo",comparator:this.descriptor.common.defaultComparator,values:this.$stateParams.query.repos.split(",")}),this.$stateParams.query.version&&daoParams.repoFilter.push({id:"version",comparator:this.descriptor.common.defaultComparator,values:[this.$stateParams.query.version]}),"docker"===this.$stateParams.packageType&&this.calcPackageDownloads(),this.cancelVersionExtraInfo();var cached=this.nativeParent.cache("package");return cached&&_.isEqual(cached.state,daoParams)?(cached["package"].versions&&cached["package"].versions.forEach(function(row){return delete row.calculationPending}),this["package"]=cached["package"],this.$q.when()):this.nativeParent.hostData.getPackage(daoParams).then(function(pkg){pkg.totalDownloads=_this.totalDownloadsForPackage||0,_this["package"]=_this.descriptor.typeSpecific[_this.$stateParams.packageType].transformers["package"](pkg),_this.nativeParent.cache("package",{"package":_this["package"],state:_.cloneDeep(daoParams)})})}},getXrayData:{value:function(additionalDaoParams){var _this=this;additionalDaoParams=additionalDaoParams||{},additionalDaoParams.sortBy=additionalDaoParams.sortBy||"lastModified",additionalDaoParams.order="asc",additionalDaoParams.with_xray=!0,additionalDaoParams.limit=this.limitVal,this.selectedTimeSpan&&(additionalDaoParams.from=this.selectedTimeSpan.value),additionalDaoParams.$no_spinner=!0,this.nativeParent.hostData.getPackage(additionalDaoParams).then(function(data){if(data.errorStatus)switch(data.errorStatus){case"Incompatible Xray version":_this.xrayError="Incompatible Xray version. This feature is supported from Xray 2.4.0 and above.\nUpgrade Xray to get license and security violations data.\nThis sample graph presents what you could see if you'll upgrade :",_this.graphData=rawMockData,_this.chartConfig=_this.getGraphObj();break;case"Xray is not available":_this.xrayError="Xray is not available."}else"docker"==_this.$stateParams.packageType?_this.graphData=data.versions:_this.graphData=data.results,_this.chartConfig=_this.getGraphObj()})}},calcPackageDownloads:{value:function(){var _this=this,daoParams={"package":this.$stateParams["package"],packageType:this.$stateParams.packageType};this.nativeParent.hostData.getPackageDownloadsCount(daoParams).then(function(response){_this["package"]&&(_this["package"].totalDownloads=response.totalDownloads),_this.totalDownloadsForPackage=response.totalDownloads})}},initConstants:{value:function(){this.packageAlias=this.jFrogUIUtils.capitalizeFirstLetter(this.descriptor.typeSpecific[this.$stateParams.packageType].aliases["package"]),this.versionAlias=this.jFrogUIUtils.capitalizeFirstLetter(this.descriptor.typeSpecific[this.$stateParams.packageType].aliases.version),this.packageTypeIcon=this.descriptor.typeSpecific[this.$stateParams.packageType].icons["package"],this.packagesIcon=this.descriptor.typeSpecific[this.$stateParams.packageType].icons.packages}},initTable:{value:function(){var _this=this;this.tableViewOptions=new this.JFrogTableViewOptions(this.$scope),this.columns=this.getTableColumns(),this.tableViewOptions.setColumns(this.columns).setRowsPerPage(20).setEmptyTableText("No "+this.versionAlias+"s").setActions(this.getActions()).sortBy("lastModified").reverseSortingDir().setData(this["package"].versions),this.tableViewOptions.on("row.clicked",this.onRowClick.bind(this)),this.tableViewOptions.useExternalSortCallback(this.onSortChange.bind(this)),this.tableViewOptions.on("row.in.view",function(row){void 0===row.downloadsCount&&("docker"===_this.$stateParams.packageType?_this.calcVersionDownloads(row):_this.nativeParent.showExtraInfo&&_this.calcPackageExtraData(row))})}},onSortChange:{value:function(field,dir){var _this=this;"repo"===field&&(field="repoKey"),this.getPackageData({sortBy:field,order:dir}).then(function(){_this.tableViewOptions.setData(_this["package"].versions)})}},onRowClick:{value:function(row){row&&row.entity&&row.entity.name&&!$(row.event.target).is(".copy-to-clip")&&this.goToVersion(row.entity.name,row.entity.repo||row.entity.repositories[0],row.entity.latestPath)}},getActions:{value:function(){var _this=this;return[{icon:"icon icon-show-in-tree",tooltip:"Show In Tree",callback:function(row){if(row.latestPath)_this.nativeParent.hostData.showInTree({fullpath:row.latestPath});else{var pathParams={repo:row.repo,"package":_this["package"].name,version:row.name};_this.nativeParent.hostData.showInTree(pathParams)}}},{icon:"icon icon-report",tooltip:"View manifest",visibleWhen:function(){return"docker"===_this.$stateParams.packageType},callback:function(row){_this.showManifest(row.name,row.repo)}}]}},getTableColumns:{value:function(){var _this=this;return this.nativeParent.showExtraInfo||!function(){var hiddenColumns=_this.typeSpecific.columnsRemovedForDerby;_this.typeSpecific.versionsTableColumns=_.filter(_this.typeSpecific.versionsTableColumns,function(col){return!_.includes(hiddenColumns,_.isString(col)?col:col.field)})}(),_.map(this.typeSpecific.versionsTableColumns,function(column){var columnObj=void 0;return _.isString(column)?(columnObj=_.cloneDeep(_this.descriptor.common.versionsTableColumns[column]),columnObj.field=column):columnObj=column,columnObj.header.indexOf("@{VERSION_ALIAS}")!==-1&&(columnObj.header=columnObj.header.replace("@{VERSION_ALIAS}",_this.versionAlias)),columnObj})}},goToVersion:{value:function(versionName,repo,path){this.cancelVersionExtraInfo(),this.subRouter["goto"]("version",{packageType:this.$stateParams.packageType,"package":this.$stateParams["package"],repo:repo,versionPath:path,version:versionName})}},goBack:{value:function(){this.subRouter["goto"]("packages",{packageType:this.$stateParams.packageType})}},showManifest:{value:function(versionName,repo){var _this=this,daoParams={packageType:this.$stateParams.packageType,"package":this["package"].name,version:versionName,repo:repo,manifest:!0};this.nativeParent.hostData.getManifest(daoParams).then(function(response){_this.modalScope=_this.$rootScope.$new(),_this.modalScope.modalTitle="Manifest.json",_this.modalScope.closeModal=function(){return _this.modalInstance.close()},_this.modalScope.downloadManifest=function(){_this.jFrogUIUtils.saveTextAsFile(_this.modalScope.manifest,"manifest_"+_this["package"].name+"_"+versionName+".txt"),_this.modalScope.closeModal()},_this.modalScope.manifest=JSON.stringify(angular.fromJson(response.fileContent),null,"\t"),_this.modalInstance=_this.modal.launchModal("manifest.modal",_this.modalScope,"lg")})}},getSummaryColumns:{value:function(){var _this=this;return _.map(this.descriptor.typeSpecific[this.$stateParams.packageType].packageSummaryColumns,function(column){var columnObj=void 0;return columnObj=_.isString(column)?_.cloneDeep(_this.descriptor.common.packageSummaryColumns[column]):column,["label","template"].forEach(function(objField){columnObj[objField]&&columnObj[objField].indexOf("@{PACKAGE_ALIAS}")!==-1&&(columnObj[objField]=columnObj[objField].replace("@{PACKAGE_ALIAS}",_this.packageAlias))}),columnObj})}},calcVersionDownloads:{value:function(row,e){e&&e.stopPropagation();var daoParams={repo:row.repo,"package":this["package"].name,packageType:this.$stateParams.packageType,version:row.name};row.pendingCalculation=!0,this.nativeParent.hostData.getVersionDownloadsCount(daoParams).then(function(response){row.xrayStatus=response.xrayStatus,row.downloadsCount=response.totalDownloads,row.calculated=!0,row.pendingCalculation=!1})}},cancelVersionExtraInfo:{value:function(){this.nativeParent.hostData.cancelVersionExtraInfo()}},calcPackageExtraData:{value:function(row){var _this=this;if(!row.calculated&&!row.calculationPending){var versionName=row.name,daoParams={version:versionName};return row.calculationPending=!0,this.nativeParent.hostData.getVersionExtraInfo(daoParams).then(function(response){_.merge(row,_this.typeSpecific.transformers.version(response)),row.calculated=!0,row.calculationPending=!1})}}},getGraphObj:{value:function(){var _this2=this,_this=(void 0===arguments[0]?"chart":arguments[0],this);return{id:"xray-data-chart",data:{colors:{security_critical:"#fbc02d",security_minor:"#fef3d5",security_unknown:"#eef5a7",security_major:"#fdd981",license_minor:"#dbe5f1",license_unknown:"#6a68f1",license_major:"#92b0d4",license_critical:"#4a7cb8",downloads:"#6317d3"},x:"x",json:_this.getFormattedData(),keys:{value:["x","security_critical","security_major","security_minor","security_unknown","license_critical","license_major","license_minor","license_unknown","downloads"]},types:{downloads:"spline",security_unknown:"bar",security_minor:"bar",security_major:"bar",security_critical:"bar",license_unknown:"bar",license_minor:"bar",license_major:"bar",license_critical:"bar"},groups:[["security_critical","security_major","security_minor","security_unknown"],["license_critical","license_major","license_minor","license_unknown"]],axes:{downloads:"y2"},onover:function(d){}},tooltip:{contents:function(d,defaultTitleFormat,defaultValueFormat,color){var text,i,title,value,name,bgcolor,$$=this,config=$$.config,titleFormat=function(title){return _this.getFormattedData()[title].x},nameFormat=config.tooltip_format_name||function(name){return _this.removeChart(name)},valueFormat=config.tooltip_format_value||defaultValueFormat;for(i=0;i<d.length;i++)d[i]&&(d[i].value||0===d[i].value)&&(text||(title=titleFormat?titleFormat(d[i].x):d[i].x,text="<table class='"+$$.CLASS.tooltip+"'>"+(title||0===title?"<tr><th colspan='2'>"+title+"</th></tr>":"")),name=nameFormat(d[i].name),value=valueFormat(d[i].value,d[i].ratio,d[i].id,d[i].index),bgcolor=$$.levelColor?$$.levelColor(d[i].value):color(d[i].id),text+="<tr class='"+$$.CLASS.tooltipName+"-"+d[i].id+"'>",text+="<td class='name'><span style='background-color:"+bgcolor+"'></span>"+name+"</td>",text+="<td class='value'>"+value+"</td>",text+="</tr>");return'<div class="'+$$.CLASS.tooltip+' data-point-tooltip"> \n\n<div>\n<span class="tooltip-label">Version: </span>\n<span class="tooltip-value bold">'+title+"</span>\n</div>\n\n"+_this.buildTooltip(d)+"\n\n                    </div>"}},grid:{x:{show:!1},y:{show:!0}},bar:{width:{ratio:.5,max:31},padding:5},axis:{x:{type:"category",tick:{multiline:!1,tooltip:!0,centered:!1},height:30},y2:{show:!0,label:{text:"Downloads Count",position:"outer-middle"},tick:{format:function(x){return x%1===0?x:""}}},y:{show:!0,label:{text:"Violations Count",position:"outer-middle"},tick:{format:function(x){return x%1===0?x:""}}}},subchart:{show:!1},legend:{contents:{bindto:"#bb-legend",template:function(title,color){return'<span style="position:relative" class="legend-item bb-legend-item"> \n                        <span style="background-color: '+color+'" ></span> '+_this2.removeChart(title)+" </span>"}},item:{onclick:function(){}}},oninit:function(){_this2.legendRendered=!1},onrendered:function(){_this2.legendRendered||(_this2.groupLegends(),_this2.setLinkableLabels())}}}},setLinkableLabels:{value:function(){var _this=this;$(".bb-axis-x g text").each(function(){var _this2=this,version=$(this).find("title").text(),foundDataItem=_.findWhere(_this.finalData,{x:version});foundDataItem&&!function(){var url=foundDataItem.xrayUrl;url&&($(_this2).addClass("link-generated"),$(_this2).click(function(){_this.$window.open(url,"_blank")}))}()})}},groupLegends:{value:function(){this.legendRendered=!0,$("span[class*='legend-item bb-legend-item bb-legend-item-security']").wrapAll("<h4>Security Issues</h4> <div class='security-wrapper' />"),$("span[class*='legend-item bb-legend-item bb-legend-item-license']").wrapAll("<h4>Licenses Issues</h4>  <div class='license-wrapper'/>")}},removeChart:{value:function(txt){return txt.indexOf("_")>-1?_.capitalize(txt.split("_")[1]):_.capitalize(txt)}},getTooltipText:{value:function(type,data){var _this=this;if("download"==type)return _.findWhere(data,{id:"downloads"})?_.findWhere(data,{id:"downloads"}).value:"N/A";if("security"==type||"license"==type){var _ret=function(){var txt="",ObjArr=_.filter(data,function(i){return i.id.indexOf(type+"_")>-1});return _.each(ObjArr,function(val,key){var comma=",";ObjArr.length-1==key&&(comma=""),txt+=_this.removeChart(val.id)+" ("+val.value+")"+comma+" "}),{v:txt}}();if("object"==typeof _ret)return _ret.v}}},buildTooltip:{value:function(d){var securityToolTip="",licenseTooltip="",hasSecurity=_.filter(d,function(i){return i.id.indexOf("security_")>-1}).length>0,hasLicense=_.filter(d,function(i){return i.id.indexOf("license_")>-1}).length>0;return hasSecurity&&(securityToolTip='<div>\n                <span class="tooltip-label">Security Violations: </span>\n                 <span class="tooltip-value bold">'+this.getTooltipText("security",d)+"</span>\n                    </div>"),hasLicense&&(licenseTooltip='<span class="tooltip-label">License Violations: </span>\n<span class="tooltip-value bold">'+this.getTooltipText("license",d)+"</span>\n</div>"),"<div>\n                    "+licenseTooltip+"\n                    "+securityToolTip+'\n\n<div>\n<span class="tooltip-label">Downloads:</span> \n<span class="tooltip-value bold">'+this.getTooltipText("download",d)+"</span>\n</div>"}},getFormattedData:{value:function(){var _this=this,finalDataArr=[];return this.withXray||(this.graphData=rawMockData),_.each(this.graphData,function(val,index){var tmpObj={};_.map(val.xrayViolations.violations.license,function(v,k){tmpObj["license_"+k]=v}),_.map(val.xrayViolations.violations.security,function(v,k){tmpObj["security_"+k]=v});var unScannedFlag="";val.xrayViolations.xrayStatus&&"unscanned"==val.xrayViolations.xrayStatus.toLowerCase()&&(unScannedFlag="(Unscanned)"),_this.withXray?(tmpObj.x=val.xrayViolations.version+" "+unScannedFlag,tmpObj.downloads=val.xrayViolations.totalDownloads):(tmpObj.x=val.version+" "+unScannedFlag,tmpObj.downloads=val.downloads),tmpObj.xrayUrl=val.xrayViolations.detailsUrl,finalDataArr.push(tmpObj)}),this.finalData=finalDataArr,finalDataArr}},groupItems:{value:function(){$("span[class*='legend-item bb-legend-item bb-legend-item-security']").wrapAll("<h3>Security Issues</h3> <div class='security-wrapper' />"),$("span[class*='legend-item bb-legend-item bb-legend-item-license']").wrapAll("<h3>Licenses Issues</h3>  <div class='license-wrapper'/>")}},toggleChart:{value:function(type){var toggleArr=_.map(_.filter(bb.instance[0].data(),function(i){return i.id.indexOf(type)>-1}),"id");bb.instance[0].toggle(toggleArr)}},securityViewState:{value:function(){var state=void 0===arguments[0]?"hide":arguments[0];"hide"===state?bb.instance[0].hide(["security_minor","security_major","security_critical","security_unknown"]):"show"===state&&bb.instance[0].show(["security_minor","security_major","security_critical","security_unknown"])}}}),PackageController}();module.exports=PackageController},function(module,exports){module.exports='<div class="jf-page-wrapper">\n    <div class="jf-page-header">\n        <div class="jf-header-item">\n            <h1>Package Viewer\n                <span>\n                    <i class="native-package-type-icon" ng-class="$ctrl.packageTypeIcon"></i>\n                    {{$ctrl.nativeParent.getDisplayNameForPackageType($ctrl.$stateParams.packageType)}}\n                </span>\n            </h1>\n\n            <div class="back-link">\n                <a href ng-click="$ctrl.goBack()" ng-show="$ctrl.packageAlias">\n                    <i class="icon icon-addons-arrow-left"></i>\n                    Back to list of {{$ctrl.packageAlias.toLowerCase()}}s\n                </a>\n            </div>\n        </div>\n    </div>\n    <div class="jf-page-summary">\n        <jf-summary-row\n                ng-if="$ctrl.summaryColumns && $ctrl.summaryData"\n                columns="$ctrl.summaryColumns"\n                parent-scope="$ctrl.$scope">\n        </jf-summary-row>\n    </div>\n    <div class="jf-page-content">\n        <div class="jf-content-section">\n            <div class="jf-main-content-pane">\n                <div class="xray-toggler-wrapper">\n                    <jf-switch-toggler on-toggle="$ctrl.legendRendered = false" model="$ctrl.toggleByStringModel" options="[\'Details\',\'Xray\']"></jf-switch-toggler>\n                </div>\n                <jf-table-view ng-show="$ctrl.toggleByStringModel == \'Details\'"\n                               options="$ctrl.tableViewOptions"\n                               object-name="Package">\n                </jf-table-view>\n\n                <div ng-if="$ctrl.toggleByStringModel == \'Xray\' && ($ctrl.withXray && !$ctrl.graphData && !$ctrl.xrayError)"\n                     class="xray-graph-spinner">\n                    <div class="spinner-msg">\n                        <div class="icon-hourglass"></div>\n                    </div>\n                </div>\n\n                <div ng-class="{\'mock-mode\':!$ctrl.withXray}" class="graph-wrapper" ng-if="$ctrl.toggleByStringModel == \'Xray\' && (!$ctrl.withXray || $ctrl.graphData || $ctrl.xrayError)">\n                    <div class="graph-filters" ng-if="!$ctrl.xrayError">\n                        <div ng-if="$ctrl.withXray" class="dd-wrapper">\n                            <span>\n                                <label>Time Range</label>\n                                <jf-ui-select\n                                        jf-select-placeholder="Time Range"\n                                        jf-select-model="$ctrl.selectedTimeSpan"\n                                        jf-select-change="$ctrl.getXrayData()"\n                                        jf-select-display-attr="displayName"\n                                        jf-select-options="$ctrl.dateSpanOptions">\n                                </jf-ui-select>\n                            </span>\n                            <span>\n                                <label>Limit</label>\n                                <jf-ui-select\n                                        jf-select-placeholder="Limit"\n                                        jf-select-model="$ctrl.limitVal"\n                                        jf-select-change="$ctrl.getXrayData()"\n                                        jf-select-options="$ctrl.limitOptions">\n                                </jf-ui-select>\n                            </span>\n\n\n                        </div>\n\n                        <jf-checkbox text="Security Violations">\n                            <input type="checkbox"\n                                   id="enabled"\n                                   class="security"\n                                   ng-model="$ctrl.showSecurityViolations"\n                                   ng-change="$ctrl.toggleChart(\'security\')">\n                        </jf-checkbox>\n\n                        <jf-checkbox text="License Violations">\n                            <input type="checkbox"\n                                   id="enabled"\n                                   class="license"\n                                   ng-model="$ctrl.showLicensesViolations"\n                                   ng-change="$ctrl.toggleChart(\'license\')">\n                        </jf-checkbox>\n\n                        <jf-checkbox text="Downloads">\n                            <input type="checkbox"\n                                   id="enabled"\n                                   class="downloads"\n                                   ng-model="$ctrl.showDownloadsStats"\n                                   ng-change="$ctrl.toggleChart(\'downloads\')">\n                        </jf-checkbox>\n                    </div>\n                    <div ng-if="!$ctrl.withXray" class="alert alert-info"> <strog> Mock up.</strog>\n                        <br/>\n                        This graph presents what you could see if you had JFrog Xray which is available with:\n                        <br/>\n                        Artifactory ProX, Artifactory Enterprise, Artifactory Enterprise+\n                        <br/>\n                        To try this feature on your data, you can start a 30-day free trial of JFrog Xray.\n                        <br/>\n                        <a target="_blank" class="jf-link" href="https://jfrog.com/xray/free-trial/">Click to start your trial.</a>\n                    </div>\n\t                <div ng-if="$ctrl.withXray && $ctrl.xrayError" class="alert alert-danger preserve-lb">{{$ctrl.xrayError}}</div>\n\t                <jf-billboard ng-if="$ctrl.chartConfig" style="display:inline-block" options="$ctrl.chartConfig"></jf-billboard>\n                    <div ng-if="$ctrl.chartConfig" id="bb-legend"></div>\n                </div>\n\n\n            </div>\n        </div>\n    </div>\n</div>\n'},function(module,exports,__webpack_require__){"use strict";var _interopRequire=function(obj){return obj&&obj.__esModule?obj["default"]:obj},_classCallCheck=function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")},PackagesNativeController=_interopRequire(__webpack_require__(41)),PackagesNativeComponent=function PackagesNativeComponent(){_classCallCheck(this,PackagesNativeComponent),this.template=__webpack_require__(42),this.controller=PackagesNativeController,this.bindings={hostData:"=",disabledPackageTypes:"="}};module.exports=PackagesNativeComponent},function(module,exports){"use strict";var _defineProperty=function(obj,key,value){return Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0})},_createClass=function(){function defineProperties(target,props){for(var key in props){var prop=props[key];prop.configurable=!0,prop.value&&(prop.writable=!0)}Object.defineProperties(target,props)}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_classCallCheck=function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")},PackagesNativeController=function(){function PackagesNativeController(JFrogSubRouter,JfFullTextService,$scope,$q,$timeout,NativeUIDescriptor,HostDaoParamFormatter){_classCallCheck(this,PackagesNativeController),this.$scope=$scope,this.$timeout=$timeout,this.$q=$q,this.JFrogSubRouter=JFrogSubRouter,this.fullTextService=JfFullTextService,this.descriptor=NativeUIDescriptor.getDescriptor(),this.formatter=HostDaoParamFormatter,this.stateController=null}return _createClass(PackagesNativeController,{$onInit:{value:function(){this.wrapHostDataCalls(),this.defaultPackageType=localStorage.lastNativeUIPackageType||"docker",this.initSubRouter()}},initSubRouter:{value:function(){var _this=this;this.subRouter=this.JFrogSubRouter.createLocalRouter({parentScope:this.$scope,urlStructure:"/:packageType/:package/:version/?:repo&:versionPath&:query",hotSyncUrl:!0,encodeSearchParamsAsBase64:"state",states:[{name:"packages",params:{mandatory:["packageType"],nullify:["package","version","repo","versionPath"]}},{name:"package",params:{mandatory:["packageType","package"],nullify:["version","repo","versionPath"]}},{name:"version",params:{mandatory:["packageType","package","version","repo"],nullify:[]}}],onInit:function(){_this.getAvailablePackageTypes().then(function(packageTypes){_this.packageTypes=packageTypes,_this.ensurePackageTypeValidity(),_this.hostData.showExtraInfo().then(function(response){_this.showExtraInfo=response.showExtraInfo,_this.ready=!0})})["catch"](console.error),_this.subRouter.params.packageType||_this.subRouter["goto"]("packages",{packageType:_this.defaultPackageType}),_this.subRouter.params.query?_this.subRouter.params.query=_.pick(_this.subRouter.params.query,_.identity):_this.subRouter.params.query={}},onChangeFromUrl:function(oldParams,newParams){_this.subRouter.params.query||(_this.subRouter.params.query={})},onStateChange:function(oldState,newState){},onInvalidState:function(oldState,params){"version"===oldState&&params["package"]&&params.version&&!params.repo?_this.subRouter["goto"]("package",{packageType:params.packageType,"package":params["package"]}):_this.subRouter["goto"]("packages",{packageType:_this.defaultPackageType})}}),this.subRouter.listenForChanges(["packageType"],null,function(oldP,newP){_this.ensurePackageTypeValidity()},this.$scope)}},ensurePackageTypeValidity:{value:function(){if(this.packageTypes){var foundByParam=_.find(this.packageTypes,{value:this.subRouter.params.packageType});if(!foundByParam||foundByParam.disabled){var lastPackageType=localStorage.lastNativeUIPackageType,found=_.find(this.packageTypes,{value:lastPackageType}),validPackageType=void 0;validPackageType=found&&!found.disabled?lastPackageType:_.find(this.packageTypes,function(pt){return!pt.disabled}).value,_.extend(this.subRouter.params,{packageType:validPackageType,"package":null,version:null,repo:null,query:{}}),this.subRouter.updateUrl(!0)}}}},getAvailablePackageTypes:{value:function(){var _this=this;return this.packageTypes?this.$q.when(this.packageTypes):this.hostData.getPackageTypes().then(function(packageTypes){return packageTypes=_.map(packageTypes,function(pt){return(!_this.descriptor.typeSpecific[pt.value]||_this.descriptor.typeSpecific[pt.value].disabled||_.includes(_this.disabledPackageTypes,pt.value))&&(pt.disabled=!0),pt}),_this.packageTypes=_.sortBy(packageTypes,function(pt){return!!pt.disabled}),_this.packageTypes})}},showAll:{value:function(e,text,title){var asList=void 0!==arguments[3]&&arguments[3],itemClickCB=void 0===arguments[4]?null:arguments[4],windowClass=void 0===arguments[5]?"":arguments[5];e.stopPropagation(),this.fullTextService.showFullTextModal(text,title,590,asList,itemClickCB,windowClass)}},filterByKeyword:{value:function(keyword){var origState=this.subRouter.state,keywordsId=this.descriptor.typeSpecific[this.subRouter.params.packageType].filters.keywords;keywordsId&&(this.subRouter.params["package"]=null,this.subRouter.params.version=null,this.subRouter.params.repo=null,this.subRouter.params.versionPath=null,this.subRouter.params.query=_defineProperty({},keywordsId,keyword)),"packages"===origState&&this.stateController&&this.stateController.initPackagesViewData(this.subRouter.params)}},wrapHostDataCalls:{value:function(){this.formatter.wrapHostDataCalls(this.hostData)}},getDisplayNameForPackageType:{value:function(packageType){if(this.packageTypes){var found=_.find(this.packageTypes,{value:packageType});if(found)return found.displayText}}},cache:{value:function(key,value){if(this.$cache||(this.$cache={}),void 0!==key&&void 0!==value)null===value?delete this.$cache[key]:this.$cache[key]=value;else if(void 0!==key&&this.$cache[key])return this.$cache[key]}}}),PackagesNativeController}();module.exports=PackagesNativeController},function(module,exports){module.exports='<packages-component\n        ng-if="$ctrl.ready && $ctrl.subRouter.state === \'packages\'"\n        native-parent="$ctrl">\n</packages-component>\n\n<package-component\n        ng-if="$ctrl.ready && $ctrl.subRouter.state === \'package\'"\n        native-parent="$ctrl">\n</package-component>\n\n<version-component\n        ng-if="$ctrl.ready && $ctrl.subRouter.state === \'version\'"\n        native-parent="$ctrl">\n</version-component>'},function(module,exports,__webpack_require__){"use strict";var _interopRequire=function(obj){return obj&&obj.__esModule?obj["default"]:obj},_classCallCheck=function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")},VersionController=_interopRequire(__webpack_require__(44)),VersionComponent=function VersionComponent(){_classCallCheck(this,VersionComponent),this.template=__webpack_require__(45),this.controller=VersionController,this.bindings={nativeParent:"="}};module.exports=VersionComponent},function(module,exports){"use strict";var _createClass=function(){function defineProperties(target,props){for(var key in props){var prop=props[key];prop.configurable=!0,prop.value&&(prop.writable=!0)}Object.defineProperties(target,props)}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_classCallCheck=function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")},VersionController=function(){function VersionController(JFrogSubRouter,$scope,$q,JFrogUIUtils,NativeUIDescriptor){_classCallCheck(this,VersionController),this.subRouter=JFrogSubRouter.getActiveRouter(),this.$stateParams=this.subRouter.params,this.$scope=$scope,this.$q=$q,this.jFrogUIUtils=JFrogUIUtils,this.descriptor=NativeUIDescriptor.getDescriptor(),this.widgetsOptions={outerPadding:0,padding:15,expandablePanes:!0,sharedModel:{versionCtrl:this}}}return _createClass(VersionController,{$onInit:{value:function(){
var _this=this;this.nativeParent.stateController=this,this.getSummaryData(),this.getVersionData(this.$stateParams).then(function(){_this.initConstants(),_this.nativeParent.hostData.isXrayEnabled().then(function(response){console.log("Xray Available?",response),_this.withXray=response}),_this.summaryColumns=_this.getSummaryColumns(),_this.subRouter.listenForChanges(["packageType","package","version"],"version",function(){_this.getSummaryData(),_this.getVersionData(_this.$stateParams)},_this.$scope)})}},initConstants:{value:function(){this.packageAlias=this.jFrogUIUtils.capitalizeFirstLetter(this.descriptor.typeSpecific[this.$stateParams.packageType].aliases["package"]),this.versionAlias=this.jFrogUIUtils.capitalizeFirstLetter(this.descriptor.typeSpecific[this.$stateParams.packageType].aliases.version),this.packageTypeIcon=this.descriptor.typeSpecific[this.$stateParams.packageType].icons["package"],this.versionIcon=this.descriptor.typeSpecific[this.$stateParams.packageType].icons.version}},getVersionData:{value:function(daoParams){var _this=this;return"docker"===this.$stateParams.packageType?this.nativeParent.hostData.getVersion(daoParams).then(function(version){_this.version=_this.descriptor.typeSpecific[daoParams.packageType].transformers.version(version)}):this.$q.when()}},getSummaryData:{value:function(){var _this=this;return"docker"===this.$stateParams.packageType?(this.summaryData={},this.$q.when()):void this.nativeParent.hostData.getVersionSummary(this.$stateParams).then(function(summaryData){_this.summaryData=summaryData,_this.summaryData.installCommand=_this.descriptor.typeSpecific[_this.$stateParams.packageType].installPrefix+" "+_this.$stateParams["package"],summaryData.latestPath&&_this.nativeParent.hostData.getVersionSummaryExtraInfo(_.extend({},_this.$stateParams,{path:summaryData.latestPath})).then(function(summaryExtraData){_.extend(_this.summaryData,summaryExtraData)})})}},goBack:{value:function(){this.subRouter["goto"]("package",{packageType:this.$stateParams.packageType,"package":this.$stateParams["package"]})}},getSummaryColumns:{value:function(){var _this=this;return _.map(this.descriptor.typeSpecific[this.$stateParams.packageType].versionSummaryColumns,function(column){var columnObj=void 0;return columnObj=_.isString(column)?_.cloneDeep(_this.descriptor.common.versionSummaryColumns[column]||_this.descriptor.common.packageSummaryColumns[column]):column,["label","template"].forEach(function(key){columnObj[key]&&columnObj[key].indexOf("@{PACKAGE_ALIAS}")!==-1&&(columnObj[key]=columnObj[key].replace("@{PACKAGE_ALIAS}",_this.packageAlias)),columnObj[key]&&columnObj[key].indexOf("@{VERSION_ALIAS}")!==-1&&(columnObj[key]=columnObj[key].replace("@{VERSION_ALIAS}",_this.versionAlias))}),columnObj})}}}),VersionController}();module.exports=VersionController},function(module,exports){module.exports='<div class="jf-page-wrapper"\n        ng-class="{\'with-xray\': $ctrl.withXray}">\n    <div class="jf-page-header">\n        <div class="jf-header-item">\n            <h1>Package Viewer\n                <span>\n                    <i class="native-package-type-icon" ng-class="$ctrl.packageTypeIcon"></i>\n                    {{$ctrl.nativeParent.getDisplayNameForPackageType($ctrl.$stateParams.packageType)}}\n                </span>\n            </h1>\n\n            <div class="back-link">\n                <a href ng-click="$ctrl.goBack()" ng-show="$ctrl.versionAlias">\n                    <i class="icon icon-addons-arrow-left"></i>\n                    Back to list of {{$ctrl.versionAlias.toLowerCase()}}s\n                </a>\n            </div>\n        </div>\n    </div>\n    <div class="jf-page-summary">\n        <jf-summary-row\n                ng-if="$ctrl.summaryColumns && $ctrl.summaryData"\n                columns=$ctrl.summaryColumns\n                parent-scope="$ctrl.$scope">\n        </jf-summary-row>\n    </div>\n\n    <div class="jf-page-content">\n        <div class="jf-content-section">\n            <div class="jf-main-content-pane">\n\t            <jf-widgets-layout widgets="$ctrl.descriptor.common.widgets"\n\t                               layout="$ctrl.descriptor.typeSpecific[$ctrl.$stateParams.packageType].widgetsLayout"\n\t                               options="$ctrl.widgetsOptions"></jf-widgets-layout>\n\n            </div>\n        </div>\n    </div>\n</div>\n'},function(module,exports,__webpack_require__){"use strict";var _createClass=function(){function defineProperties(target,props){for(var key in props){var prop=props[key];prop.configurable=!0,prop.value&&(prop.writable=!0)}Object.defineProperties(target,props)}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_classCallCheck=function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")},NativeFiltersDropdown=function NativeFiltersDropdown(){_classCallCheck(this,NativeFiltersDropdown),this.template=__webpack_require__(47),this.controller=NativeFiltersDropdownController,this.bindings={initialTitle:"=",label:"@",filterPlaceholder:"@",repos:"=",extraFilters:"=",disabled:"=?",onChange:"&?",noSort:"=?",onOpenStateChange:"&?",dropdownOpened:"=",showSelected:"@",noSelectedFirst:"=?",borderless:"<?",onSearchSubmit:"&?"}};module.exports=NativeFiltersDropdown;var NativeFiltersDropdownController=function(){function NativeFiltersDropdownController($scope,$filter,$element){var _this=this;_classCallCheck(this,NativeFiltersDropdownController),this.$scope=$scope,this.$element=$element,this.filter=$filter("filter"),this.opened=!1,this.handleOutsideClick(),this.$scope.$watch("NativeFiltersDropdown.repos",function(newVal,oldVal){newVal&&_this.sortItems()}),this.$scope.$watch("NativeFiltersDropdown.dropdownOpened",function(val){if(val===!0){if(!_this.repos)return;_this.opened=!0,_this.filterText=""}else val===!1&&(_this.opened=!1,_this.filterText="")})}return _createClass(NativeFiltersDropdownController,{sendOpenStateChange:{value:function(){this.onOpenStateChange&&this.onOpenStateChange({opened:this.opened})}},handleOutsideClick:{value:function(){var _this=this,handler=function(e){var outside=!$(e.target).parents(".native-filters-dropdown").length||$(e.target).parents(".native-filters-dropdown")[0]!==$(_this.$element).find(".native-filters-dropdown")[0];outside&&(_this.opened=!1,_this.sendOpenStateChange(),_this.sortItems()),_this.$scope.$apply()};$(document).on("click",handler),this.$scope.$on("$destroy",function(){$(document).off("click",handler)})}},getSelectedForTitle:{value:function(){var selected=this.selectedItems();return selected&&selected.length?selected.join("; "):this.initialTitle}},onClick:{value:function(){if(this.disabled!==!0){if(!this.repos)return;this.opened=!this.opened,this.sendOpenStateChange(),this.opened||this.sortItems(),this.filterText=""}}},applyChanges:{value:function(){this.onChange&&this.onChange()}},selectedItems:{value:function(){var selected=_.filter(this.extraFilters,function(filter){return filter.inputTextValue}).concat(_.filter(this.repos,function(repo){return repo.isSelected})).map(function(s){return s.inputTextValue||s.text});return selected}},sortItems:{value:function(){if(!this.noSelectedFirst&&this.repos){var selected=this.noSort?_.filter(this.repos,function(repo){return repo.isSelected}):_.sortBy(_.filter(this.repos,function(item){return item.isSelected}),"text"),unSelected=this.noSort?_.filter(this.repos,function(repo){return!repo.isSelected}):_.sortBy(_.filter(this.repos,function(repo){return!repo.isSelected}),"text");this.lastSelectedIndex=selected.length-1;var combined=selected.concat(unSelected);this.repos.splice.apply(this.repos,[0,this.repos.length].concat(combined))}}},selectAll:{value:function(){this.filter(this.repos,this.filterText).forEach(function(repo){repo.disabled||(repo.isSelected=!0)}),this.applyChanges()}},unSelectAll:{value:function(){this.filter(this.repos,this.filterText).forEach(function(repo){repo.disabled||(repo.isSelected=!1)}),this.applyChanges()}},onSelection:{value:function(){this.applyChanges()}},clearSelection:{value:function(){this.extraFilters&&_.forEach(this.extraFilters,function(filter){filter.inputTextValue=""}),this.unSelectAll()}},onSubmit:{value:function(){this.opened=!1,this.onSearchSubmit()}},onKeyPress:{value:function(e){"Enter"!==e.key&&13!==e.keyCode||this.onSubmit()}},isMainFilterDisabled:{value:function(){var selected=this.selectedItems();return selected.length>1&&this.extraFilters[0].inputTextValue||selected.length>0&&!this.extraFilters[0].inputTextValue}}}),NativeFiltersDropdownController}()},function(module,exports){module.exports='<div ng-class="{\'disabled\':$ctrl.disabled}" class="native-filters-dropdown">\n\t<label ng-if="$ctrl.label">\n\t\t{{$ctrl.label}}\n\t</label>\n\t<div class="main-box"\n\t     ng-class="{\'selected-view\' : $ctrl.selectedItems().length, \'disabled-style\': $ctrl.isMainFilterDisabled()}">\n\t\t<span ng-click="$ctrl.isMainFilterDisabled() && $ctrl.onClick()">\n\t\t\t<input type="text"\n\t\t\t       class="input-text"\n\t\t\t       jf-disable-ng-animate\n\t\t\t       ng-show="!$ctrl.isMainFilterDisabled()"\n\t\t\t       ng-keypress="$ctrl.onKeyPress($event)"\n\t\t\t       placeholder="{{$ctrl.getSelectedForTitle()}}"\n\t\t\t       ng-model="$ctrl.extraFilters[0].inputTextValue"/>\n\t\t\t<input type="text"\n\t\t\t       class="input-text not-disabled-style"\n\t\t\t       jf-disable-ng-animate\n\t\t\t       ng-show="$ctrl.isMainFilterDisabled()"\n\t\t\t       placeholder="{{$ctrl.getSelectedForTitle()}}"\n\t\t\t       disabled/>\n\t\t\t<i class="icon icon-clear"\n\t\t\t   ng-if="$ctrl.selectedItems().length"\n\t\t\t   ng-click="$ctrl.clearSelection()"></i>\n\t\t\t<i class="icon icon-addons-arrow-right pull-right" ng-click="!$ctrl.isMainFilterDisabled() && $ctrl.onClick()"></i>\n\t\t\t<i class="icon icon-search" ng-click="$ctrl.onSubmit(); $event.stopPropagation();"></i>\n\t\t</span>\n\t</div>\n\t<div ng-if="$ctrl.opened"\n\t     class="drop-down-container">\n\t\t<div class="extra-filters-container">\n\t\t\t<div ng-if="$ctrl.extraFilters.length" class="list-container">\n\t\t\t\t<div class="extra-filter form-group"\n\t\t\t\t     ng-repeat="item in $ctrl.extraFilters track by $index"\n\t\t\t\t     ng-class="{\'disabled\': item.disabled}">\n\t\t\t\t\t<label>\n\t\t\t\t\t\t{{ item.text }}\n\t\t\t\t\t</label>\n\t\t\t\t\t<div class="text-input-wrapper">\n\t\t\t\t\t\t<input autofocus="{{ ($index === 1) }}"\n\t\t\t\t\t\t\t\ttype="text"\n\t\t\t\t\t            name="items-filter"\n\t\t\t\t\t            class="input-text"\n    \t\t\t\t            ng-keypress="$ctrl.onKeyPress($event)"\n\t\t\t\t\t            ng-model="item.inputTextValue"\n\t\t\t\t\t            placeholder="{{item.inputPlaceholder || \'Free text\'}}" />\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t\t<div class="repos-container">\n\t\t\t<div class="filter-container">\n\t\t\t\t<form>\n\t\t\t\t\t<jf-field>\n\t\t\t\t\t\t<label>Repositories</label>\n\t\t\t\t\t\t<input type="text"\n\t\t\t\t\t\t       name="items-filter"\n\t\t\t\t\t\t       class="input-text"\n\t\t\t\t\t\t       ng-model="$ctrl.filterText"\n\t\t\t\t\t\t       placeholder="Filter repositories"/>\n\t\t\t\t\t</jf-field>\n\t\t\t\t</form>\n\t\t\t</div>\n\t\t\t<div ng-if="$ctrl.repos.length" class="list-container">\n\t\t\t\t<div class="drop-down-item"\n\t\t\t\t     ng-repeat="item in $ctrl.repos | filter:{text: $ctrl.filterText} track by $index"\n\t\t\t\t     ng-class="{\'last-selected\': $index === $ctrl.lastSelectedIndex && !$ctrl.filterText, \'disabled\': item.disabled}">\n\t\t\t\t\t<label class="jf-checkbox">\n\t\t\t\t\t\t<input type="checkbox"\n\t\t\t\t\t\t       ng-disabled="item.disabled"\n\t\t\t\t\t\t       ng-change="$ctrl.onSelection()"\n\t\t\t\t\t\t       ng-model="item.isSelected">\n\t\t\t\t\t\t<span></span> <i ng-if="item.iconClass" class="item-icon" ng-class="item.iconClass"></i> {{ item.text }}\n\t\t\t\t\t</label>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class="batch-action-buttons"\n\t\t\t     ng-if="$ctrl.repos.length">\n\t\t\t\t<button type="button"\n\t\t\t\t\t\tclass="btn btn-default"\n\t\t\t\t        ng-click="$ctrl.selectAll()">\n\t\t\t\t\t<i class="icon icon-notif-success"></i>\n\t\t\t\t\tSelect All\n\t\t\t\t</button>\n\t\t\t\t<button class="btn btn-default"\n\t\t\t\t        type="button"\n\t\t\t\t        ng-click="$ctrl.unSelectAll()">\n\t\t\t\t\t<i class="icon icon-trashcan"></i>\n\t\t\t\t\tClear All\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t\t<div ng-if="!$ctrl.repos.length"\n\t\t\t     class="list-container">\n\t\t\t\t<div class="no-items-message">\n\t\t\t\t\tNo Repositories\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t\t<div class="batch-actions pull-right">\n\t\t\t<button class="btn btn-secondary"\n\t\t\t        type="button"\n\t\t\t\t\tng-click="$ctrl.clearSelection()">\n\t\t\t\tClear Form\n\t\t\t</button>\n\t\t\t<button class="btn btn-primary"\n\t\t\t        type="submit"\n\t\t\t\t\tng-click="$ctrl.onSubmit()">\n\t\t\t\tSearch\n\t\t\t</button>\n\t\t</div>\n\t</div>\n</div>\n'}]),!function(module){try{module=angular.module("templates")}catch(err){module=angular.module("templates",[])}module.run(["$templateCache",function($templateCache){"use strict";$templateCache.put("modal_templates/manifest.modal.html",'<div class="modal-header">\n\t<button type="button"\n\t        class="close"\n\t        data-dismiss="close"\n\t        aria-label="Close"\n\t        ng-click="$close(true)"><span\n\t\t\taria-hidden="true">&times;</span>\n\t</button>\n\t<h3 class="modal-title">{{modalTitle}}</h3>\n</div>\n<div class="modal-body manifest-modal">\n\t<div class="manifest">\n\t\t<jf-clip-copy\n\t\t\t\ttext-to-copy="manifest"\n\t\t\t\tobject-name="manifest"\n\t\t\t\tclass="code-mirror-copy">\n\t\t</jf-clip-copy>\n\n\t\t<jf-code-mirror mime-type="xml"\n\t\t                height="350px"\n\t\t                model="manifest"\n\t\t                allowEdit="false">\n\t\t</jf-code-mirror>\n\t</div>\n</div>\n\n<div class="modal-footer">\n\t<button class="btn btn-secondary"\n\t        ng-click="$close(true)">\n\t\tClose\n\t</button>\n\t<button class="btn btn-primary"\n\t        ng-click="downloadManifest()">\n\t\tDownload\n\t</button>\n</div>\n')}])}(),function(module){try{module=angular.module("templates")}catch(err){module=angular.module("templates",[])}module.run(["$templateCache",function($templateCache){"use strict";$templateCache.put("directives/jf_docker_v2_layer/jf_docker_v2_layer.html",'<li class="layer"\n        ng-click="jfDockerV2Layer.setSelected(true)"\n        ng-style="{borderLeftColor: jfDockerV2Layer.COLOR_MAP[jfDockerV2Layer.data.command]}"\n        ng-class="{\'selected\':jfDockerV2Layer.isSelected(),\'open-layer\': !jfDockerV2Layer.collapsed}">\n    <div class="title"\n            ng-click="jfDockerV2Layer.collapsed = !jfDockerV2Layer.collapsed"\n            ng-class="{open: !jfDockerV2Layer.collapsed}">\n        <i class="icon icon-addons-arrow-right"></i>\n        {{jfDockerV2Layer.data.command}}\n        <span class="current-node-name"\n                ng-if="jfDockerV2Layer.isUpper">\n            {{jfDockerV2Layer.parent.currentPath.substr(jfDockerV2Layer.parent.currentPath.lastIndexOf(\'/\') + 1)}}\n        </span>\n        <span class="layer-id-display">\n            {{jfDockerV2Layer.data.shortId}}\n        </span>\n    </div>\n    <ul class="layer-details" collapse="jfDockerV2Layer.collapsed">\n\n        <li class="id" ng-if="jfDockerV2Layer.data.id">\n            <i class="icon icon-docker-id" jf-tooltip="ID"></i>\n            <span jf-tooltip-on-overflow>\n                {{jfDockerV2Layer.data.id}}\n            </span>\n        </li>\n        <li class="id" ng-if="jfDockerV2Layer.data.digest">\n            <i class="icon icon-docker-digest" jf-tooltip="Digest"></i>\n            <span jf-tooltip-on-overflow>\n                {{jfDockerV2Layer.data.digest}}\n            </span>\n        </li>\n        <li class="id">\n            <i class="icon icon-docker-command" jf-tooltip="Command"></i>\n            <span class="commandtext" jf-tooltip-on-overflow trust-tooltip-text="true">\n                {{jfDockerV2Layer.data.commandText}}\n            </span>\n        </li>\n        <li class="inline-cells">\n            <div jf-tooltip-on-overflow>\n                <i class="icon icon-docker-created" jf-tooltip="Created"></i>\n                {{jfDockerV2Layer.created}}\n            </div>\n            <div jf-tooltip-on-overflow>\n                <i class="icon icon-docker-size" jf-tooltip="Size"></i>\n                {{jfDockerV2Layer.data.size}}\n            </div>\n        </li>\n\n    </ul>\n</li>\n')}])}(),function(module){try{module=angular.module("templates")}catch(err){module=angular.module("templates",[])}module.run(["$templateCache",function($templateCache){"use strict";$templateCache.put("directives/jf_docker_v2_layers/jf_docker_v2_layers.html",'<div class="docker-v2-layers-visualization">\n    <div class="layers-container">\n        <ul class="docker-v2-layer-container">\n        <jf-docker-v2-layer ng-repeat="layer in jfDockerV2Layers.data track by $index"\n                            parent="jfDockerV2Layers"\n                            data="layer"\n                            preselected="$index === 0"\n                            is-base="$index === jfDockerV2Layers.data.length-1"\n                            is-upper="$index === 0">\n        </jf-docker-v2-layer>\n        </ul>\n    </div>\n</div>')}])}(),function(module){try{module=angular.module("templates")}catch(err){module=angular.module("templates",[])}module.run(["$templateCache",function($templateCache){"use strict";$templateCache.put("ui_components/packages_native/packages.native.view.html",'<packages-component\n        ng-if="$ctrl.ready && $ctrl.subRouter.state === \'packages\'"\n        native-parent="$ctrl">\n</packages-component>\n\n<package-component\n        ng-if="$ctrl.ready && $ctrl.subRouter.state === \'package\'"\n        native-parent="$ctrl">\n</package-component>\n\n<version-component\n        ng-if="$ctrl.ready && $ctrl.subRouter.state === \'version\'"\n        native-parent="$ctrl">\n</version-component>')}])}(),function(module){try{module=angular.module("templates")}catch(err){module=angular.module("templates",[])}module.run(["$templateCache",function($templateCache){"use strict";$templateCache.put("constants/templates/packages.downloads-count.cell.template.html",'<div class="downloads-count no-cm-action"\n     disable-tooltip-on-overflow>\n\t<jf-pending-data wait-for="row.entity.downloadsCount">\n\t\t{{ row.entity.downloadsCount}} Download{{row.entity.downloadsCount === 1 ? \'\' : \'s\' }}\n\t</jf-pending-data>\n<!--\n\t<div ng-if="row.entity.downloadsCount !== undefined">\n\t\t<i class="icon icon-download"></i>\n\t\t<span>\n            {{ row.entity.downloadsCount}} Download{{row.entity.downloadsCount === 1 ? \'\' : \'s\' }}\n\t    </span>\n\t</div>\n\t<div ng-if="row.entity.downloadsCount === undefined && row.entity.manualOnDemendDownloadsCount">\n\t\t<i class="icon icon-download"></i>\n\t\t<span class="show-download-count"\n\t\t      jf-tooltip="Click to calculate"\n\t\t      ng-click="appScope.$ctrl.calcPackageDownloads($event,row.entity)">\n        Show downloads count\n    </span>\n\t</div>\n\t<div ng-if="row.entity.downloadsCount === undefined && !row.entity.manualOnDemendDownloadsCount">\n        &#45;&#45;\n\t</div>\n-->\n</div>\n')}])}(),function(module){try{module=angular.module("templates")}catch(err){module=angular.module("templates",[])}module.run(["$templateCache",function($templateCache){"use strict";$templateCache.put("constants/templates/packages.keywords.cell.template.html",'<div class="keywords-wrap" disable-tooltip-on-overflow>\n\t<jf-pending-data wait-for="row.entity.keywords">\n\t\t<div class="keyword"\n\t\t     ng-repeat="keyword in row.entity.keywords.slice(0,3)"\n\t\t     ng-click="appScope.$ctrl.nativeParent.filterByKeyword(keyword); $event.stopPropagation()"\n\t\t     ng-style="{\'max-width\': row.entity.keywords.length > 3 ? \'25%\' : row.entity.keywords.length > 0 ? (100/row.entity.keywords.length) + \'%\' : 0}"\n\t\t     jf-tooltip-on-overflow>\n\t\t\t{{keyword}}\n\t\t</div>\n\n\t\t<div class="keyword"\n\t\t     ng-if="row.entity.keywords.length > 3"\n\t\t     jf-tooltip="{{\'Show All (\' + row.entity.keywords.length + \')\'}}"\n\t\t     ng-click="appScope.$ctrl.nativeParent.showAll($event,row.entity.keywords, \'Keywords\', true, appScope.$ctrl.nativeParent.filterByKeyword.bind(appScope.$ctrl.nativeParent), \'keywords-modal\')">\n\t\t\t...\n\t\t</div>\n\t</jf-pending-data>\n</div>')}])}(),function(module){try{module=angular.module("templates")}catch(err){module=angular.module("templates",[])}module.run(["$templateCache",function($templateCache){"use strict";$templateCache.put("constants/templates/packages.repositories.cell.template.html",'<div class="repositories no-cm-action"\n        ng-click="appScope.$ctrl.nativeParent.showAll($event,row.entity.repositories, \'Repositories\')"\n        disable-tooltip-on-overflow>\n\t<span jf-tooltip="Click text for full list">\n\t\t{{appScope.$ctrl.jFrogUIUtils.stringifyData(row.entity.repositories,\' : \')}}\n\t</span>\n</div>')}])}(),function(module){try{module=angular.module("templates")}catch(err){module=angular.module("templates",[])}module.run(["$templateCache",function($templateCache){"use strict";$templateCache.put("constants/templates/packages.versions-count.cell.template.html",'<div class="versions-count" disable-tooltip-on-overflow>\n    <jf-pending-data wait-for="row.entity.versionsCount">\n        <div class="icon-wrapper">\n            <i class="icon"\n               ng-class="appScope.$ctrl.versionIcon">\n            </i>\n        </div>\n        {{row.entity.versionsCount || 0 }} {{appScope.$ctrl.versionAlias}}{{row.entity.versionsCount === 1 ? \'\' : \'s\'}}\n    </jf-pending-data>\n<!--\n    <div ng-if="row.entity.versionsCount !== undefined">\n        <div class="icon-wrapper">\n            <i class="icon"\n               ng-class="appScope.$ctrl.versionIcon">\n            </i>\n        </div>\n        {{row.entity.versionsCount || 0 }} {{appScope.$ctrl.versionAlias}}{{row.entity.versionsCount === 1 ? \'\' : \'s\'}}\n    </div>\n    <div ng-if="row.entity.versionsCount === undefined">\n        &#45;&#45;\n    </div>\n-->\n</div>\n')}])}(),function(module){try{module=angular.module("templates")}catch(err){module=angular.module("templates",[])}module.run(["$templateCache",function($templateCache){"use strict";$templateCache.put("constants/templates/versions.downloads-count.cell.template.html",'<div class="downloads-count"\n     disable-tooltip-on-overflow>\n\t<jf-pending-data wait-for="row.entity.downloadsCount">\n\t\t<i class="icon icon-download"></i>\n\t\t{{ row.entity.downloadsCount || 0 }} Download{{row.entity.downloadsCount === 1 ? \'\' : \'s\' }}\n\t</jf-pending-data>\n\n<!--\n\t<i class="icon icon-download"></i>\n\t<span class="show-download-count no-cm-action"\n\t      jf-tooltip="Click to calculate"\n\t      ng-click="appScope.$ctrl.calcVersionDownloads(row.entity, $event)"\n\t      ng-if="row.entity.downloadsCount === undefined && row.entity.manualOnDemendDownloadsCount">\n        Show downloads count\n    </span>\n\t<span ng-if="row.entity.downloadsCount !== undefined && !row.entity.pendingCalculation">\n        {{ row.entity.downloadsCount || 0 }} Download{{row.entity.downloadsCount === 1 ? \'\' : \'s\' }}\n    </span>\n\t<span ng-if="row.entity.pendingCalculation">\n\t\t&#45;&#45;\n\t</span>\n-->\n</div>')}])}(),function(module){try{module=angular.module("templates")}catch(err){module=angular.module("templates",[])}module.run(["$templateCache",function($templateCache){"use strict";$templateCache.put("constants/templates/versions.name.cell.template.html",'<div class="name"\n     cm-additional-action="View version"\n     cm-additional-action-icon="icon-docker-tags">\n\t{{row.entity.name}}\n</div>')}])}(),function(module){try{module=angular.module("templates")}catch(err){module=angular.module("templates",[])}module.run(["$templateCache",function($templateCache){"use strict";$templateCache.put("constants/templates/versions.package-id.cell.template.html",'<div disable-tooltip-on-overflow jf-disable-ng-animate>\n\t<jf-clip-copy\n\t\t\ttext-to-copy="row.entity.packageId"\n\t\t\tobject-name="Digest">\n\t</jf-clip-copy>\n\t<div class="package-id" jf-tooltip-on-overflow>{{ row.entity.packageId }}</div>\n</div>')}])}(),function(module){try{module=angular.module("templates")}catch(err){module=angular.module("templates",[])}module.run(["$templateCache",function($templateCache){"use strict";$templateCache.put("version_data_widgets/builds/builds_widget.html",'<div class="version-widget-container">\n\t<jf-table-view\n\t\t\toptions="ctrl.tableViewOptions">\n\t</jf-table-view>\n</div>')}])}(),function(module){try{module=angular.module("templates")}catch(err){module=angular.module("templates",[])}module.run(["$templateCache",function($templateCache){"use strict";$templateCache.put("version_data_widgets/dependencies/dependencies_widget.html",'<div class="version-widget-container">\n\t<div ng-if="ctrl.data.dependencies.length">\n\t\t<div class="widget-title">Dependencies</div>\n\t\t<div class="dependencies-list">{{ctrl.data.dependencies.join(\', \')}}</div>\n\t\t<hr/>\n\t</div>\n\t<div ng-if="ctrl.data.devDependencies.length">\n\t\t<div class="widget-title">Dev Dependencies</div>\n\t\t<div class="dependencies-list">{{ctrl.data.devDependencies.join(\', \')}}</div>\n\t</div>\n\t<div ng-if="!ctrl.data.devDependencies.length && !ctrl.data.dependencies.length">\n\t\t<div class="widget-title">Dependencies: No Dependencies</div>\n\t</div>\n</div>')}])}(),function(module){try{module=angular.module("templates")}catch(err){module=angular.module("templates",[])}module.run(["$templateCache",function($templateCache){"use strict";$templateCache.put("version_data_widgets/docker_layers/docker_layers_widget.html",'<div class="version-widget-container docker-layers">\n\t<h4>Layers</h4>\n\t<jf-docker-v2-layers\n\t\t\tcontroller="ctrl.$scope.versionCtrl"\n\t\t\tdata="ctrl.$scope.versionCtrl.version.layers"\n\t\t\tcurrent-path="a/latest">\n\t</jf-docker-v2-layers>\n</div>\n')}])}(),function(module){try{module=angular.module("templates")}catch(err){module=angular.module("templates",[])}module.run(["$templateCache",function($templateCache){"use strict";$templateCache.put("version_data_widgets/readme/readme_widget.html",'<div class="version-widget-container">\n\t<div class="widget-title">Readme</div>\n\t<jf-markup-editor markup="ctrl.readme"\n\t                  language="\'Markdown\'"\n\t                  mode="\'View\'"\n\t                  editable="false"\n\t                  show-controls="false"></jf-markup-editor>\n</div>')}])}(),function(module){try{module=angular.module("templates")}catch(err){module=angular.module("templates",[])}module.run(["$templateCache",function($templateCache){"use strict";$templateCache.put("version_data_widgets/properties/properties_widget.html",'<div class="version-widget-container">\n\t<jf-table-view\n\t\t\toptions="ctrl.tableViewOptions">\n\t</jf-table-view>\n</div>')}])}(),function(module){try{module=angular.module("templates")}catch(err){module=angular.module("templates",[])}module.run(["$templateCache",function($templateCache){"use strict";$templateCache.put("ui_components/packages_native/components/package/package.view.html",'<div class="jf-page-wrapper">\n    <div class="jf-page-header">\n        <div class="jf-header-item">\n            <h1>Package Viewer\n                <span>\n                    <i class="native-package-type-icon" ng-class="$ctrl.packageTypeIcon"></i>\n                    {{$ctrl.nativeParent.getDisplayNameForPackageType($ctrl.$stateParams.packageType)}}\n                </span>\n            </h1>\n\n            <div class="back-link">\n                <a href ng-click="$ctrl.goBack()" ng-show="$ctrl.packageAlias">\n                    <i class="icon icon-addons-arrow-left"></i>\n                    Back to list of {{$ctrl.packageAlias.toLowerCase()}}s\n                </a>\n            </div>\n        </div>\n    </div>\n    <div class="jf-page-summary">\n        <jf-summary-row\n                ng-if="$ctrl.summaryColumns && $ctrl.summaryData"\n                columns="$ctrl.summaryColumns"\n                parent-scope="$ctrl.$scope">\n        </jf-summary-row>\n    </div>\n    <div class="jf-page-content">\n        <div class="jf-content-section">\n            <div class="jf-main-content-pane">\n                <div class="xray-toggler-wrapper">\n                    <jf-switch-toggler on-toggle="$ctrl.legendRendered = false" model="$ctrl.toggleByStringModel" options="[\'Details\',\'Xray\']"></jf-switch-toggler>\n                </div>\n                <jf-table-view ng-show="$ctrl.toggleByStringModel == \'Details\'"\n                               options="$ctrl.tableViewOptions"\n                               object-name="Package">\n                </jf-table-view>\n\n                <div ng-if="$ctrl.toggleByStringModel == \'Xray\' && ($ctrl.withXray && !$ctrl.graphData && !$ctrl.xrayError)"\n                     class="xray-graph-spinner">\n                    <div class="spinner-msg">\n                        <div class="icon-hourglass"></div>\n                    </div>\n                </div>\n\n                <div ng-class="{\'mock-mode\':!$ctrl.withXray}" class="graph-wrapper" ng-if="$ctrl.toggleByStringModel == \'Xray\' && (!$ctrl.withXray || $ctrl.graphData || $ctrl.xrayError)">\n                    <div class="graph-filters" ng-if="!$ctrl.xrayError">\n                        <div ng-if="$ctrl.withXray" class="dd-wrapper">\n                            <span>\n                                <label>Time Range</label>\n                                <jf-ui-select\n                                        jf-select-placeholder="Time Range"\n                                        jf-select-model="$ctrl.selectedTimeSpan"\n                                        jf-select-change="$ctrl.getXrayData()"\n                                        jf-select-display-attr="displayName"\n                                        jf-select-options="$ctrl.dateSpanOptions">\n                                </jf-ui-select>\n                            </span>\n                            <span>\n                                <label>Limit</label>\n                                <jf-ui-select\n                                        jf-select-placeholder="Limit"\n                                        jf-select-model="$ctrl.limitVal"\n                                        jf-select-change="$ctrl.getXrayData()"\n                                        jf-select-options="$ctrl.limitOptions">\n                                </jf-ui-select>\n                            </span>\n\n\n                        </div>\n\n                        <jf-checkbox text="Security Violations">\n                            <input type="checkbox"\n                                   id="enabled"\n                                   class="security"\n                                   ng-model="$ctrl.showSecurityViolations"\n                                   ng-change="$ctrl.toggleChart(\'security\')">\n                        </jf-checkbox>\n\n                        <jf-checkbox text="License Violations">\n                            <input type="checkbox"\n                                   id="enabled"\n                                   class="license"\n                                   ng-model="$ctrl.showLicensesViolations"\n                                   ng-change="$ctrl.toggleChart(\'license\')">\n                        </jf-checkbox>\n\n                        <jf-checkbox text="Downloads">\n                            <input type="checkbox"\n                                   id="enabled"\n                                   class="downloads"\n                                   ng-model="$ctrl.showDownloadsStats"\n                                   ng-change="$ctrl.toggleChart(\'downloads\')">\n                        </jf-checkbox>\n                    </div>\n                    <div ng-if="!$ctrl.withXray" class="alert alert-info"> <strog> Mock up.</strog>\n                        <br/>\n                        This graph presents what you could see if you had JFrog Xray which is available with:\n                        <br/>\n                        Artifactory ProX, Artifactory Enterprise, Artifactory Enterprise+\n                        <br/>\n                        To try this feature on your data, you can start a 30-day free trial of JFrog Xray.\n                        <br/>\n                        <a target="_blank" class="jf-link" href="https://jfrog.com/xray/free-trial/">Click to start your trial.</a>\n                    </div>\n\t                <div ng-if="$ctrl.withXray && $ctrl.xrayError" class="alert alert-danger preserve-lb">{{$ctrl.xrayError}}</div>\n\t                <jf-billboard ng-if="$ctrl.chartConfig" style="display:inline-block" options="$ctrl.chartConfig"></jf-billboard>\n                    <div ng-if="$ctrl.chartConfig" id="bb-legend"></div>\n                </div>\n\n\n            </div>\n        </div>\n    </div>\n</div>\n');
}])}(),function(module){try{module=angular.module("templates")}catch(err){module=angular.module("templates",[])}module.run(["$templateCache",function($templateCache){"use strict";$templateCache.put("ui_components/packages_native/components/filters_dropdown/native.filters.dropdown.view.html",'<div ng-class="{\'disabled\':$ctrl.disabled}" class="native-filters-dropdown">\n\t<label ng-if="$ctrl.label">\n\t\t{{$ctrl.label}}\n\t</label>\n\t<div class="main-box"\n\t     ng-class="{\'selected-view\' : $ctrl.selectedItems().length, \'disabled-style\': $ctrl.isMainFilterDisabled()}">\n\t\t<span ng-click="$ctrl.isMainFilterDisabled() && $ctrl.onClick()">\n\t\t\t<input type="text"\n\t\t\t       class="input-text"\n\t\t\t       jf-disable-ng-animate\n\t\t\t       ng-show="!$ctrl.isMainFilterDisabled()"\n\t\t\t       ng-keypress="$ctrl.onKeyPress($event)"\n\t\t\t       placeholder="{{$ctrl.getSelectedForTitle()}}"\n\t\t\t       ng-model="$ctrl.extraFilters[0].inputTextValue"/>\n\t\t\t<input type="text"\n\t\t\t       class="input-text not-disabled-style"\n\t\t\t       jf-disable-ng-animate\n\t\t\t       ng-show="$ctrl.isMainFilterDisabled()"\n\t\t\t       placeholder="{{$ctrl.getSelectedForTitle()}}"\n\t\t\t       disabled/>\n\t\t\t<i class="icon icon-clear"\n\t\t\t   ng-if="$ctrl.selectedItems().length"\n\t\t\t   ng-click="$ctrl.clearSelection()"></i>\n\t\t\t<i class="icon icon-addons-arrow-right pull-right" ng-click="!$ctrl.isMainFilterDisabled() && $ctrl.onClick()"></i>\n\t\t\t<i class="icon icon-search" ng-click="$ctrl.onSubmit(); $event.stopPropagation();"></i>\n\t\t</span>\n\t</div>\n\t<div ng-if="$ctrl.opened"\n\t     class="drop-down-container">\n\t\t<div class="extra-filters-container">\n\t\t\t<div ng-if="$ctrl.extraFilters.length" class="list-container">\n\t\t\t\t<div class="extra-filter form-group"\n\t\t\t\t     ng-repeat="item in $ctrl.extraFilters track by $index"\n\t\t\t\t     ng-class="{\'disabled\': item.disabled}">\n\t\t\t\t\t<label>\n\t\t\t\t\t\t{{ item.text }}\n\t\t\t\t\t</label>\n\t\t\t\t\t<div class="text-input-wrapper">\n\t\t\t\t\t\t<input autofocus="{{ ($index === 1) }}"\n\t\t\t\t\t\t\t\ttype="text"\n\t\t\t\t\t            name="items-filter"\n\t\t\t\t\t            class="input-text"\n    \t\t\t\t            ng-keypress="$ctrl.onKeyPress($event)"\n\t\t\t\t\t            ng-model="item.inputTextValue"\n\t\t\t\t\t            placeholder="{{item.inputPlaceholder || \'Free text\'}}" />\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t\t<div class="repos-container">\n\t\t\t<div class="filter-container">\n\t\t\t\t<form>\n\t\t\t\t\t<jf-field>\n\t\t\t\t\t\t<label>Repositories</label>\n\t\t\t\t\t\t<input type="text"\n\t\t\t\t\t\t       name="items-filter"\n\t\t\t\t\t\t       class="input-text"\n\t\t\t\t\t\t       ng-model="$ctrl.filterText"\n\t\t\t\t\t\t       placeholder="Filter repositories"/>\n\t\t\t\t\t</jf-field>\n\t\t\t\t</form>\n\t\t\t</div>\n\t\t\t<div ng-if="$ctrl.repos.length" class="list-container">\n\t\t\t\t<div class="drop-down-item"\n\t\t\t\t     ng-repeat="item in $ctrl.repos | filter:{text: $ctrl.filterText} track by $index"\n\t\t\t\t     ng-class="{\'last-selected\': $index === $ctrl.lastSelectedIndex && !$ctrl.filterText, \'disabled\': item.disabled}">\n\t\t\t\t\t<label class="jf-checkbox">\n\t\t\t\t\t\t<input type="checkbox"\n\t\t\t\t\t\t       ng-disabled="item.disabled"\n\t\t\t\t\t\t       ng-change="$ctrl.onSelection()"\n\t\t\t\t\t\t       ng-model="item.isSelected">\n\t\t\t\t\t\t<span></span> <i ng-if="item.iconClass" class="item-icon" ng-class="item.iconClass"></i> {{ item.text }}\n\t\t\t\t\t</label>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class="batch-action-buttons"\n\t\t\t     ng-if="$ctrl.repos.length">\n\t\t\t\t<button type="button"\n\t\t\t\t\t\tclass="btn btn-default"\n\t\t\t\t        ng-click="$ctrl.selectAll()">\n\t\t\t\t\t<i class="icon icon-notif-success"></i>\n\t\t\t\t\tSelect All\n\t\t\t\t</button>\n\t\t\t\t<button class="btn btn-default"\n\t\t\t\t        type="button"\n\t\t\t\t        ng-click="$ctrl.unSelectAll()">\n\t\t\t\t\t<i class="icon icon-trashcan"></i>\n\t\t\t\t\tClear All\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t\t<div ng-if="!$ctrl.repos.length"\n\t\t\t     class="list-container">\n\t\t\t\t<div class="no-items-message">\n\t\t\t\t\tNo Repositories\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t\t<div class="batch-actions pull-right">\n\t\t\t<button class="btn btn-secondary"\n\t\t\t        type="button"\n\t\t\t\t\tng-click="$ctrl.clearSelection()">\n\t\t\t\tClear Form\n\t\t\t</button>\n\t\t\t<button class="btn btn-primary"\n\t\t\t        type="submit"\n\t\t\t\t\tng-click="$ctrl.onSubmit()">\n\t\t\t\tSearch\n\t\t\t</button>\n\t\t</div>\n\t</div>\n</div>\n')}])}(),function(module){try{module=angular.module("templates")}catch(err){module=angular.module("templates",[])}module.run(["$templateCache",function($templateCache){"use strict";$templateCache.put("ui_components/packages_native/components/packages/packages.view.html",'<div class="jf-page-wrapper">\n\t<div class="jf-page-header">\n\t\t<div class="jf-header-item">\n\t\t\t<h1>\n\t\t\t\tPackage View\n\t\t\t\t<span>\n                    <i class="native-package-type-icon" ng-class="$ctrl.packageTypeIcon"></i>\n                </span>\n\n\t\t\t\t<span class="package-count" ng-if="$ctrl.packages.list.itemsCount && $ctrl.totalCount === undefined">\n                    {{$ctrl.packages.list.itemsCount ? \'(\'+$ctrl.packages.list.itemsCount+\')\' : \'\'}}\n                </span>\n\t\t\t\t<span class="package-count" ng-if="$ctrl.packages.list.itemsCount && $ctrl.totalCount !== undefined">\n                    {{$ctrl.packages.list.itemsCount ? \'(\'+$ctrl.packages.list.itemsCount : \'\'}} {{$ctrl.totalCount !== undefined ? \'out of \' + $ctrl.totalCount + \')\': \'\'}}\n                </span>\n\t\t\t</h1>\n\t\t\t<span class="filter repo-type">\n                <jf-ui-select\n\t\t                jf-select-placeholder="Select package type..."\n\t\t                jf-select-display-func="$ctrl.getPackageTypeTemplate($item)"\n\t\t                jf-select-model="$ctrl.selectedPackageType"\n\t\t                jf-select-change="$ctrl.onPackageTypeChange()"\n\t\t                jf-select-options="$ctrl.packageTypes">\n                </jf-ui-select>\n            </span>\n\t\t</div>\n\n\t\t<div class="jf-header-item">\n\t\t\t<form>\n\t\t\t\t<div class="filters">\n                    <span class="filter repos-filters">\n                        <native-filters-dropdown\n\t\t                        borderless="false"\n\t\t                        initial-title="$ctrl.initialDropDownPlaceholder"\n\t\t                        on-search-submit="$ctrl.getFilteredData(true)"\n\t\t                        on-change="$ctrl.onRepoFilterChange()"\n\t\t                        repos="$ctrl.reposList"\n\t\t                        extra-filters="$ctrl.moreFiltersList">\n                        </native-filters-dropdown>\n                    </span>\n\t\t\t\t</div>\n\t\t\t</form>\n\t\t</div>\n\t</div>\n\t<div class="jf-page-content">\n\t\t<div class="jf-main-content-pane">\n\t\t\t<jf-table-view\n\t\t\t\t\tjf-disable-ng-animate\n\t\t\t\t\tng-show="$ctrl.hasSelectedFilters"\n\t\t\t\t\toptions="$ctrl.tableViewOptions"\n\t\t\t\t\tobject-name="Package">\n\t\t\t</jf-table-view>\n\t\t\t<div class="no-filters-message"\n\t\t\t     jf-disable-ng-animate\n\t\t\t     ng-show="!$ctrl.hasSelectedFilters && !$ctrl.$pendingData && $ctrl.ready">\n\t\t\t\t<h1>Add search criteria to display {{$ctrl.typeSpecific.aliases.package}} list</h1>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</div>\n')}])}(),function(module){try{module=angular.module("templates")}catch(err){module=angular.module("templates",[])}module.run(["$templateCache",function($templateCache){"use strict";$templateCache.put("ui_components/packages_native/components/version/version.view.html",'<div class="jf-page-wrapper"\n        ng-class="{\'with-xray\': $ctrl.withXray}">\n    <div class="jf-page-header">\n        <div class="jf-header-item">\n            <h1>Package Viewer\n                <span>\n                    <i class="native-package-type-icon" ng-class="$ctrl.packageTypeIcon"></i>\n                    {{$ctrl.nativeParent.getDisplayNameForPackageType($ctrl.$stateParams.packageType)}}\n                </span>\n            </h1>\n\n            <div class="back-link">\n                <a href ng-click="$ctrl.goBack()" ng-show="$ctrl.versionAlias">\n                    <i class="icon icon-addons-arrow-left"></i>\n                    Back to list of {{$ctrl.versionAlias.toLowerCase()}}s\n                </a>\n            </div>\n        </div>\n    </div>\n    <div class="jf-page-summary">\n        <jf-summary-row\n                ng-if="$ctrl.summaryColumns && $ctrl.summaryData"\n                columns=$ctrl.summaryColumns\n                parent-scope="$ctrl.$scope">\n        </jf-summary-row>\n    </div>\n\n    <div class="jf-page-content">\n        <div class="jf-content-section">\n            <div class="jf-main-content-pane">\n\t            <jf-widgets-layout widgets="$ctrl.descriptor.common.widgets"\n\t                               layout="$ctrl.descriptor.typeSpecific[$ctrl.$stateParams.packageType].widgetsLayout"\n\t                               options="$ctrl.widgetsOptions"></jf-widgets-layout>\n\n            </div>\n        </div>\n    </div>\n</div>\n')}])}();